  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20231019094854)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019094854"]]
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20231019100809)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "price" decimal, "barcode" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_barcode" ON "products" ("barcode")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100809"]]
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductInventories (20231019100836)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "product_inventories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "stock_quantity" integer, "restock_alert_threshold" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_889dd5a582"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_inventories_on_product_id" ON "product_inventories" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100836"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20231019100849)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100849"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductCategories (20231019100907)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "product_categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_98a9a32a41"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_005b71ca83"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_product_id" ON "product_categories" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_category_id" ON "product_categories" ("category_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100907"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-19 10:09:55.484136"], ["updated_at", "2023-10-19 10:09:55.484136"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-10-19 13:10:04 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/philip/.rbenv/versions/3.2.1/lib/ruby/gems/3.2.0/gems/railties-7.0.8/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/philip/.rbenv/versions/3.2.1/lib/ruby/gems/3.2.0/gems/railties-7.0.8/lib/rails/templates/rails/welcome/index.html.erb (Duration: 1.3ms | Allocations: 589)
Completed 200 OK in 9ms (Views: 3.4ms | ActiveRecord: 0.0ms | Allocations: 5035)


Started GET "/routes" for 127.0.0.1 at 2023-10-19 13:10:08 +0300
  
ActionController::RoutingError (No route matches [GET] "/routes"):
  
Started GET "/favicon.ico" for 127.0.0.1 at 2023-10-19 13:10:08 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/routes" for 127.0.0.1 at 2023-10-19 13:13:32 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/routes"):
  
Started GET "/rout" for 127.0.0.1 at 2023-10-19 13:13:44 +0300
  
ActionController::RoutingError (No route matches [GET] "/rout"):
  
Started GET "/" for 127.0.0.1 at 2023-10-19 13:13:50 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/philip/.rbenv/versions/3.2.1/lib/ruby/gems/3.2.0/gems/railties-7.0.8/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/philip/.rbenv/versions/3.2.1/lib/ruby/gems/3.2.0/gems/railties-7.0.8/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.5ms | Allocations: 281)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 1142)


Started GET "/routes" for 127.0.0.1 at 2023-10-19 13:13:54 +0300
  
ActionController::RoutingError (No route matches [GET] "/routes"):
  
Started GET "/api/v1/users" for 127.0.0.1 at 2023-10-19 13:14:48 +0300
  
ActionController::RoutingError (No route matches [GET] "/api/v1/users"):
  
Started GET "/api/v1/users" for 127.0.0.1 at 2023-10-19 13:14:51 +0300
  
ActionController::RoutingError (No route matches [GET] "/api/v1/users"):
  
Started GET "/api/v1/products" for 127.0.0.1 at 2023-10-19 13:15:05 +0300
Processing by Api::V1::ProductsController#index as HTML
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 967)


Started GET "/api/v1/users" for 127.0.0.1 at 2023-10-19 13:15:29 +0300
  
ActionController::RoutingError (No route matches [GET] "/api/v1/users"):
  
Started GET "/api/v1/users" for 127.0.0.1 at 2023-10-19 13:15:31 +0300
  
ActionController::RoutingError (No route matches [GET] "/api/v1/users"):
  
Started GET "/api/v1/users" for 127.0.0.1 at 2023-10-19 13:15:45 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api/v1/users"):
  
Started GET "/api/v1/users" for 127.0.0.1 at 2023-10-19 13:16:52 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api/v1/users"):
  
Started GET "/routes" for 127.0.0.1 at 2023-10-19 13:16:57 +0300
  
ActionController::RoutingError (No route matches [GET] "/routes"):
  
Started GET "/routes" for 127.0.0.1 at 2023-10-19 13:17:22 +0300
  
ActionController::RoutingError (No route matches [GET] "/routes"):
  
Started GET "/api/v1/users" for 127.0.0.1 at 2023-10-19 13:17:29 +0300
Processing by Api::V1::UsersController#index as HTML
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 1022)


Started GET "/" for 127.0.0.1 at 2023-10-23 10:25:08 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/phillip/.rvm/gems/ruby-3.0.0/gems/railties-7.0.8/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/phillip/.rvm/gems/ruby-3.0.0/gems/railties-7.0.8/lib/rails/templates/rails/welcome/index.html.erb (Duration: 2.7ms | Allocations: 767)
Completed 200 OK in 19ms (Views: 7.1ms | ActiveRecord: 0.0ms | Allocations: 5479)


Started GET "/routes" for 127.0.0.1 at 2023-10-23 10:25:13 +0300
  
ActionController::RoutingError (No route matches [GET] "/routes"):
  
Started GET "/favicon.ico" for 127.0.0.1 at 2023-10-23 10:25:13 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/api/v1/products" for ::1 at 2023-10-23 10:36:25 +0300
Processing by Api::V1::ProductsController#index as */*
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms | Allocations: 894)


Started GET "/api/v1/users" for ::1 at 2023-10-23 10:37:02 +0300
Processing by Api::V1::UsersController#index as */*
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 294)


Started GET "/routes" for 127.0.0.1 at 2023-10-23 10:39:31 +0300
  
ActionController::RoutingError (No route matches [GET] "/routes"):
  
Started GET "/api/v1/users" for ::1 at 2023-10-23 10:41:40 +0300
Processing by Api::V1::UsersController#index as */*
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 423)


Started POST "/api/v1/logout/" for ::1 at 2023-10-23 10:43:05 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/v1/logout"):
  
Started GET "/api/v1/products" for ::1 at 2023-10-23 10:48:43 +0300
Processing by Api::V1::ProductsController#index as */*
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 293)


Started POST "/api/v1/register" for ::1 at 2023-10-23 10:51:50 +0300
  
AbstractController::ActionNotFound (The action 'register' could not be found for Api::V1::UsersController):
  
actionpack (7.0.8) lib/abstract_controller/base.rb:146:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/api/v1/register" for ::1 at 2023-10-23 10:54:02 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com", "password"=>"[FILTERED]", "user"=>{"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Phillip"], ["last_name", "Nzau"], ["email", "phil@nzau.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 07:54:02.733832"], ["updated_at", "2023-10-23 07:54:02.733832"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
Completed 500 Internal Server Error in 41ms (ActiveRecord: 4.8ms | Allocations: 20992)


  
NoMethodError (undefined method `role' for #<User id: 1, first_name: "Phillip", last_name: "Nzau", email: "phil@nzau.com", password_digest: nil, created_at: "2023-10-23 07:54:02.733832000 +0000", updated_at: "2023-10-23 07:54:02.733832000 +0000">):
  
app/controllers/api/v1/users_controller.rb:17:in `register'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddRoleToUsers (20231023075600)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "role" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231023075600"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/register" for ::1 at 2023-10-23 11:00:38 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#register as */*
  Parameters: {"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com", "password"=>"[FILTERED]", "user"=>{"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com"}}
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 422 Unprocessable Entity in 39ms (Views: 1.8ms | ActiveRecord: 0.7ms | Allocations: 40974)


Started POST "/api/v1/register" for ::1 at 2023-10-23 11:04:09 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com", "password"=>"[FILTERED]", "user"=>{"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 422 Unprocessable Entity in 12ms (Views: 0.6ms | ActiveRecord: 1.3ms | Allocations: 7682)


Started POST "/api/v1/login" for ::1 at 2023-10-23 11:04:50 +0300
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"phil@nzau.com", "password"=>"[FILTERED]", "user"=>{"email"=>"phil@nzau.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:29:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 401 Unauthorized in 2ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 894)


Started GET "/api/v1/users" for ::1 at 2023-10-23 11:05:05 +0300
Processing by Api::V1::UsersController#index as */*
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 215)


Started GET "/api/v1/users" for ::1 at 2023-10-23 11:05:26 +0300
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/v1/users_controller.rb:52:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.4ms)
Completed 200 OK in 22ms (Views: 16.9ms | ActiveRecord: 1.5ms | Allocations: 6688)


Started GET "/api/v1/users" for ::1 at 2023-10-23 11:09:29 +0300
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/v1/users_controller.rb:22:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.32ms)
Completed 200 OK in 22ms (Views: 18.1ms | ActiveRecord: 1.5ms | Allocations: 4836)


Started POST "/api/v1/register" for ::1 at 2023-10-23 11:10:10 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"first_name"=>"Phillip2", "last_name"=>"Nzau2", "email"=>"phil2@nzau.com", "password"=>"[FILTERED]", "user"=>{"first_name"=>"Phillip2", "last_name"=>"Nzau2", "email"=>"phil2@nzau.com"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil2@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.3ms)
Completed 201 Created in 5ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 2642)


Started POST "/api/v1/login" for ::1 at 2023-10-23 11:10:30 +0300
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"phil@nzau.com", "password"=>"[FILTERED]", "user"=>{"email"=>"phil@nzau.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:12:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 401 Unauthorized in 2ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 906)


Started POST "/api/v1/login" for ::1 at 2023-10-23 11:10:35 +0300
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"phil2@nzau.com", "password"=>"[FILTERED]", "user"=>{"email"=>"phil2@nzau.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil2@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:12:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 602)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/register" for ::1 at 2023-10-23 11:41:06 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#register as */*
  Parameters: {"first_name"=>"Phillip3", "last_name"=>"Nzau3", "email"=>"phil3@nzau.com", "password"=>"[FILTERED]", "user"=>{"first_name"=>"Phillip3", "last_name"=>"Nzau3", "email"=>"phil3@nzau.com"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil3@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 422 Unprocessable Entity in 39ms (Views: 2.1ms | ActiveRecord: 0.8ms | Allocations: 44526)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20231019094854)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019094854"]]
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20231019100809)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "price" decimal, "barcode" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_barcode" ON "products" ("barcode")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100809"]]
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductInventories (20231019100836)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "product_inventories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "stock_quantity" integer, "restock_alert_threshold" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_889dd5a582"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_inventories_on_product_id" ON "product_inventories" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100836"]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20231019100849)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100849"]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductCategories (20231019100907)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "product_categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_98a9a32a41"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_005b71ca83"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_product_id" ON "product_categories" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_category_id" ON "product_categories" ("category_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100907"]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddRoleToUsers (20231023075600)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "role" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231023075600"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-23 08:42:50.407182"], ["updated_at", "2023-10-23 08:42:50.407182"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/register" for ::1 at 2023-10-23 11:43:01 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#register as */*
  Parameters: {"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com", "password"=>"[FILTERED]", "user"=>{"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 422 Unprocessable Entity in 35ms (Views: 1.5ms | ActiveRecord: 0.8ms | Allocations: 43770)


Started POST "/api/v1/register" for ::1 at 2023-10-23 11:45:52 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"first_name"=>"Phillip", "last_name"=>"Nzau", "emails"=>"phil@nzau.com", "password"=>"[FILTERED]", "user"=>{"first_name"=>"Phillip", "last_name"=>"Nzau"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 422 Unprocessable Entity in 6ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 2814)


Started GET "/api/v1/users" for ::1 at 2023-10-23 11:46:01 +0300
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/v1/users_controller.rb:27:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.18ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.2ms | Allocations: 2258)


Started POST "/api/v1/register" for ::1 at 2023-10-23 11:46:09 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com", "password"=>"[FILTERED]", "user"=>{"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 422 Unprocessable Entity in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 2419)


Started GET "/api/v1/users" for ::1 at 2023-10-23 11:46:13 +0300
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/v1/users_controller.rb:27:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms | Allocations: 760)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/register" for ::1 at 2023-10-23 11:48:25 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#register as */*
  Parameters: {"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com", "password"=>"[FILTERED]", "user"=>{"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 422 Unprocessable Entity in 36ms (Views: 1.7ms | ActiveRecord: 1.1ms | Allocations: 43763)


Started GET "/api/v1/users" for ::1 at 2023-10-23 11:48:38 +0300
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/v1/users_controller.rb:41:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.17ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.1ms | Allocations: 2262)


Started POST "/api/v1/login" for ::1 at 2023-10-23 11:48:45 +0300
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"phil@nzau.com", "password"=>"[FILTERED]", "user"=>{"email"=>"phil@nzau.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:31:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 826)


Started POST "/api/v1/login" for ::1 at 2023-10-23 11:48:55 +0300
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"phil@nzau.com", "password"=>"[FILTERED]", "user"=>{"email"=>"phil@nzau.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:31:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 401 Unauthorized in 3ms (Views: 1.0ms | ActiveRecord: 1.2ms | Allocations: 1103)


Started POST "/api/v1/register" for ::1 at 2023-10-23 11:49:33 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com", "password"=>"[FILTERED]", "user"=>{"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 422 Unprocessable Entity in 8ms (Views: 0.5ms | ActiveRecord: 0.6ms | Allocations: 4685)


Started POST "/api/v1/register" for ::1 at 2023-10-23 11:50:16 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com", "password"=>"[FILTERED]", "user"=>{"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 422 Unprocessable Entity in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 2441)


Started POST "/api/v1/register" for ::1 at 2023-10-23 11:50:59 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com", "password"=>"[FILTERED]", "user"=>{"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 422 Unprocessable Entity in 10ms (Views: 0.8ms | ActiveRecord: 1.5ms | Allocations: 5028)


Started POST "/api/v1/register" for ::1 at 2023-10-23 11:51:19 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com", "password"=>"[FILTERED]", "user"=>{"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com"}}
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 422 Unprocessable Entity in 9ms (Views: 1.1ms | ActiveRecord: 1.1ms | Allocations: 3048)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/register" for ::1 at 2023-10-23 11:51:31 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#register as */*
  Parameters: {"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com", "password"=>"[FILTERED]", "user"=>{"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com"}}
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 422 Unprocessable Entity in 35ms (Views: 2.3ms | ActiveRecord: 0.8ms | Allocations: 40931)


Started POST "/api/v1/register" for ::1 at 2023-10-23 11:58:01 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com", "password"=>"[FILTERED]", "user"=>{"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 422 Unprocessable Entity in 11ms (Views: 0.9ms | ActiveRecord: 0.8ms | Allocations: 5730)


Started POST "/api/v1/register" for ::1 at 2023-10-23 11:58:23 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#register as */*
  Parameters: {"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com", "password"=>"[FILTERED]", "user"=>{"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 422 Unprocessable Entity in 41ms (Views: 2.4ms | ActiveRecord: 0.9ms | Allocations: 43767)


Started GET "/api/v1/users" for ::1 at 2023-10-23 11:59:06 +0300
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/v1/users_controller.rb:41:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.11ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.1ms | Allocations: 2262)


Started POST "/api/v1/register" for ::1 at 2023-10-23 11:59:23 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#register as */*
  Parameters: {"first_name"=>"Phillip2", "last_name"=>"Nzau2", "email"=>"phil2@nzau.com", "password"=>"[FILTERED]", "user"=>{"first_name"=>"Phillip2", "last_name"=>"Nzau2", "email"=>"phil2@nzau.com"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil2@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 422 Unprocessable Entity in 36ms (Views: 1.7ms | ActiveRecord: 1.0ms | Allocations: 43767)


  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20231019094854)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019094854"]]
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20231019100809)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "price" decimal, "barcode" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_barcode" ON "products" ("barcode")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100809"]]
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductInventories (20231019100836)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "product_inventories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "stock_quantity" integer, "restock_alert_threshold" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_889dd5a582"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_product_inventories_on_product_id" ON "product_inventories" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100836"]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20231019100849)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100849"]]
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductCategories (20231019100907)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "product_categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_98a9a32a41"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_005b71ca83"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_product_id" ON "product_categories" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_category_id" ON "product_categories" ("category_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100907"]]
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddRoleToUsers (20231023075600)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "users" ADD "role" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231023075600"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-23 09:01:40.317395"], ["updated_at", "2023-10-23 09:01:40.317395"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/register" for ::1 at 2023-10-23 12:01:54 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/phillip/Development/project/pos-api/app/models/user.rb:8: syntax error, unexpected symbol literal, expecting `do' or '{' or '('
...validates :password, presence :true
...                              ^
):
  
app/models/user.rb:8: syntax error, unexpected symbol literal, expecting `do' or '{' or '('
app/models/user.rb:8: syntax error, unexpected symbol literal, expecting `do' or '{' or '('
Started POST "/api/v1/register" for ::1 at 2023-10-23 12:02:15 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"first_name"=>"Phillip2", "last_name"=>"Nzau2", "email"=>"phil21@nzau.com", "password"=>"[FILTERED]", "user"=>{"first_name"=>"Phillip2", "last_name"=>"Nzau2", "email"=>"phil21@nzau.com"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil21@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 422 Unprocessable Entity in 39ms (Views: 1.5ms | ActiveRecord: 1.2ms | Allocations: 44078)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/register" for ::1 at 2023-10-23 12:02:43 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#register as */*
  Parameters: {"first_name"=>"Phillip2", "last_name"=>"Nzau2", "email"=>"phil211@nzau.com", "password"=>"[FILTERED]", "user"=>{"first_name"=>"Phillip2", "last_name"=>"Nzau2", "email"=>"phil211@nzau.com"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil211@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 422 Unprocessable Entity in 38ms (Views: 1.6ms | ActiveRecord: 0.8ms | Allocations: 43767)


Started POST "/api/v1/register" for ::1 at 2023-10-23 12:07:51 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Phillip"], ["last_name", "Nzau"], ["email", "phil@nzau.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 09:07:52.170098"], ["updated_at", "2023-10-23 09:07:52.170098"], ["role", "user"]]
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:9:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 201 Created in 225ms (Views: 0.5ms | ActiveRecord: 5.1ms | Allocations: 6638)


Started POST "/api/v1/login" for ::1 at 2023-10-23 12:08:32 +0300
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"phil@nzau.com", "password"=>"[FILTERED]", "user"=>{"email"=>"phil@nzau.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:31:in `login'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.22ms)
Completed 201 Created in 215ms (Views: 4.5ms | ActiveRecord: 0.1ms | Allocations: 3150)


Started POST "/api/v1/login" for ::1 at 2023-10-23 12:09:26 +0300
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"phil@nzau.com", "password"=>"[FILTERED]", "user"=>{"email"=>"phil@nzau.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:12:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 201 Created in 222ms (Views: 0.6ms | ActiveRecord: 1.2ms | Allocations: 3250)


Started POST "/api/v1/register" for ::1 at 2023-10-23 12:09:37 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil2@nzau.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil2@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Phillip"], ["last_name", "Nzau"], ["email", "phil2@nzau.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 09:09:37.497622"], ["updated_at", "2023-10-23 09:09:37.497622"], ["role", "user"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 201 Created in 213ms (Views: 0.4ms | ActiveRecord: 3.8ms | Allocations: 3355)


Started POST "/api/v1/login" for ::1 at 2023-10-23 12:09:46 +0300
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"phil2@nzau.com", "password"=>"[FILTERED]", "user"=>{"email"=>"phil2@nzau.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil2@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:12:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 201 Created in 208ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 854)


  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20231019094854)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019094854"]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20231019100809)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "price" decimal, "barcode" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_barcode" ON "products" ("barcode")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100809"]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductInventories (20231019100836)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "product_inventories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "stock_quantity" integer, "restock_alert_threshold" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_889dd5a582"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_inventories_on_product_id" ON "product_inventories" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100836"]]
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20231019100849)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100849"]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductCategories (20231019100907)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "product_categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_98a9a32a41"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_005b71ca83"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_product_id" ON "product_categories" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_category_id" ON "product_categories" ("category_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100907"]]
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddRoleToUsers (20231023075600)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "role" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231023075600"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-23 09:10:03.348697"], ["updated_at", "2023-10-23 09:10:03.348697"]]
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/register" for ::1 at 2023-10-23 12:10:21 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phil@nzau.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phil@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Phillip"], ["last_name", "Nzau"], ["email", "phil@nzau.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 09:10:22.155547"], ["updated_at", "2023-10-23 09:10:22.155547"], ["role", "user"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 201 Created in 244ms (Views: 1.5ms | ActiveRecord: 5.1ms | Allocations: 43432)


Started POST "/api/v1/register" for ::1 at 2023-10-23 12:10:42 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"Junior", "last_name"=>"Kanam", "email"=>"jr@kan.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jr@kan.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Junior"], ["last_name", "Kanam"], ["email", "jr@kan.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 09:10:43.080441"], ["updated_at", "2023-10-23 09:10:43.080441"], ["role", "user"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 201 Created in 215ms (Views: 0.5ms | ActiveRecord: 4.1ms | Allocations: 2968)


Started GET "/api/v1/users" for ::1 at 2023-10-23 12:10:47 +0300
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/v1/users_controller.rb:22:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.58ms)
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.2ms | Allocations: 3368)


Started GET "/api/v1/users" for ::1 at 2023-10-23 12:11:23 +0300
Processing by Api::V1::UsersController#index as */*
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 442)


Started GET "/api/v1/users" for ::1 at 2023-10-23 12:11:42 +0300
Processing by Api::V1::UsersController#index as */*
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 350)


Started GET "/api/v1/users" for ::1 at 2023-10-23 12:11:46 +0300
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Filter chain halted as :authorize_admin rendered or redirected
Completed 401 Unauthorized in 10ms (Views: 1.4ms | ActiveRecord: 0.9ms | Allocations: 6121)


Started POST "/api/v1/register" for ::1 at 2023-10-23 12:12:20 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"Admin", "last_name"=>"Ad", "email"=>"admin@admin.com", "password"=>"[FILTERED]", "role"=>"admin"}}
[31mUnpermitted parameter: :role. Context: { controller: Api::V1::UsersController, action: register, request: #<ActionDispatch::Request:0x00007f961cc65200>, params: {"user"=>{"first_name"=>"Admin", "last_name"=>"Ad", "email"=>"admin@admin.com", "password"=>"[FILTERED]", "role"=>"admin"}, "controller"=>"api/v1/users", "action"=>"register"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Admin"], ["last_name", "Ad"], ["email", "admin@admin.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 09:12:20.765511"], ["updated_at", "2023-10-23 09:12:20.765511"], ["role", "user"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 201 Created in 227ms (Views: 0.4ms | ActiveRecord: 4.6ms | Allocations: 3506)


Started GET "/api/v1/users" for ::1 at 2023-10-23 12:12:30 +0300
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Filter chain halted as :authorize_admin rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 1.3ms | ActiveRecord: 0.1ms | Allocations: 2456)


Started POST "/api/v1/login" for ::1 at 2023-10-23 12:12:55 +0300
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"admin@admin.com", "password"=>"[FILTERED]", "user"=>{"email"=>"admin@admin.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:12:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 201 Created in 225ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 1009)


Started GET "/api/v1/users" for ::1 at 2023-10-23 12:13:06 +0300
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Filter chain halted as :authorize_admin rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 2456)


Started POST "/api/v1/register" for ::1 at 2023-10-23 12:15:08 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"Admin", "last_name"=>"Ad", "email"=>"admin2@admin.com", "password"=>"[FILTERED]", "role"=>"admin"}}
[31mUnpermitted parameter: :role. Context: { controller: Api::V1::UsersController, action: register, request: #<ActionDispatch::Request:0x00007f962817de08>, params: {"user"=>{"first_name"=>"Admin", "last_name"=>"Ad", "email"=>"admin2@admin.com", "password"=>"[FILTERED]", "role"=>"admin"}, "controller"=>"api/v1/users", "action"=>"register"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin2@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Admin"], ["last_name", "Ad"], ["email", "admin2@admin.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 09:15:08.365830"], ["updated_at", "2023-10-23 09:15:08.365830"], ["role", "user"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "admin2@admin.com"], ["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 239ms (Views: 1.2ms | ActiveRecord: 5.5ms | Allocations: 8113)


Started POST "/api/v1/register" for ::1 at 2023-10-23 12:15:36 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"Admin", "last_name"=>"Ad", "email"=>"admin3@admin.com", "password"=>"[FILTERED]", "role"=>"admin"}}
[31mUnpermitted parameter: :role. Context: { controller: Api::V1::UsersController, action: register, request: #<ActionDispatch::Request:0x00007f9628be1d68>, params: {"user"=>{"first_name"=>"Admin", "last_name"=>"Ad", "email"=>"admin3@admin.com", "password"=>"[FILTERED]", "role"=>"admin"}, "controller"=>"api/v1/users", "action"=>"register"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin3@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin3@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 422 Unprocessable Entity in 226ms (Views: 0.6ms | ActiveRecord: 1.2ms | Allocations: 9501)


Started POST "/api/v1/register" for ::1 at 2023-10-23 12:16:04 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"Admin", "last_name"=>"Ad", "email"=>"admin3@admin.com", "password"=>"[FILTERED]", "role"=>"admin"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin3@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Admin"], ["last_name", "Ad"], ["email", "admin3@admin.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 09:16:05.210856"], ["updated_at", "2023-10-23 09:16:05.210856"], ["role", "user"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "admin3@admin.com"], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 201 Created in 243ms (Views: 0.8ms | ActiveRecord: 7.9ms | Allocations: 7947)


Started POST "/api/v1/register" for ::1 at 2023-10-23 12:16:19 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"Admin", "last_name"=>"Ad", "email"=>"admin4@admin.com", "password"=>"[FILTERED]", "role"=>"admin"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin4@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Admin"], ["last_name", "Ad"], ["email", "admin4@admin.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 09:16:19.872480"], ["updated_at", "2023-10-23 09:16:19.872480"], ["role", "admin"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "admin4@admin.com"], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 246ms (Views: 0.9ms | ActiveRecord: 5.1ms | Allocations: 7924)


Started GET "/api/v1/users" for ::1 at 2023-10-23 12:16:32 +0300
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/v1/users_controller.rb:26:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.73ms)
Completed 200 OK in 7ms (Views: 3.2ms | ActiveRecord: 0.3ms | Allocations: 4465)


  [1m[35m (9.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20231019094854)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019094854"]]
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20231019100809)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "price" decimal, "barcode" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_barcode" ON "products" ("barcode")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100809"]]
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductInventories (20231019100836)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "product_inventories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "stock_quantity" integer, "restock_alert_threshold" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_889dd5a582"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_inventories_on_product_id" ON "product_inventories" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100836"]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20231019100849)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100849"]]
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductCategories (20231019100907)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "product_categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_98a9a32a41"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_005b71ca83"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_product_id" ON "product_categories" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_category_id" ON "product_categories" ("category_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100907"]]
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddRoleToUsers (20231023075600)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "role" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231023075600"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-23 09:18:39.843671"], ["updated_at", "2023-10-23 09:18:39.843671"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/users" for ::1 at 2023-10-23 12:18:48 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 10ms (Views: 3.5ms | ActiveRecord: 0.6ms | Allocations: 4829)


Started POST "/api/v1/register" for ::1 at 2023-10-23 12:18:58 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"Admin", "last_name"=>"Ad", "email"=>"admin@admin.com", "password"=>"[FILTERED]", "role"=>"admin"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Admin"], ["last_name", "Ad"], ["email", "admin@admin.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 09:18:58.526073"], ["updated_at", "2023-10-23 09:18:58.526073"], ["role", "admin"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "admin@admin.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.28ms)
Completed 201 Created in 244ms (Views: 0.7ms | ActiveRecord: 4.7ms | Allocations: 43005)


Started POST "/api/v1/register" for ::1 at 2023-10-23 12:19:10 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"Junior", "last_name"=>"Kanam", "email"=>"jr@kan.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jr@kan.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Junior"], ["last_name", "Kanam"], ["email", "jr@kan.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 09:19:10.471960"], ["updated_at", "2023-10-23 09:19:10.471960"], ["role", "user"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "jr@kan.com"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 201 Created in 221ms (Views: 0.4ms | ActiveRecord: 5.4ms | Allocations: 4704)


Started POST "/api/v1/login" for ::1 at 2023-10-23 12:19:21 +0300
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"admin@admin.com", "password"=>"[FILTERED]", "user"=>{"email"=>"admin@admin.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:16:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 201 Created in 208ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 1034)


Started GET "/api/v1/users" for ::1 at 2023-10-23 12:19:31 +0300
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/v1/users_controller.rb:26:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.76ms)
Completed 200 OK in 14ms (Views: 10.3ms | ActiveRecord: 0.4ms | Allocations: 5571)


Started GET "/routes" for 127.0.0.1 at 2023-10-23 12:20:55 +0300
  
ActionController::RoutingError (No route matches [GET] "/routes"):
  
Started GET "/routes" for 127.0.0.1 at 2023-10-23 12:21:42 +0300
  
ActionController::RoutingError (No route matches [GET] "/routes"):
  
Started DELETE "/api/v1/users/2" for ::1 at 2023-10-23 12:22:09 +0300
Processing by Api::V1::UsersController#destroy as */*
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:71:in `set_user'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 8ms (Views: 0.6ms | ActiveRecord: 1.0ms | Allocations: 4502)


Started DELETE "/api/v1/users/2" for ::1 at 2023-10-23 12:22:49 +0300
Processing by Api::V1::UsersController#destroy as */*
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:71:in `set_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:42:in `destroy'
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/api/v1/users_controller.rb:42:in `destroy'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:42:in `destroy'
Completed 204 No Content in 11ms (ActiveRecord: 4.1ms | Allocations: 3708)


Started POST "/api/v1/register" for ::1 at 2023-10-23 12:24:28 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phillip@nzau.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Phillip"], ["last_name", "Nzau"], ["email", "phillip@nzau.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 09:24:28.783822"], ["updated_at", "2023-10-23 09:24:28.783822"], ["role", "user"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (9.66ms)
Completed 201 Created in 310ms (Views: 10.8ms | ActiveRecord: 6.2ms | Allocations: 7925)


Started DELETE "/api/v1/users/3" for ::1 at 2023-10-23 12:24:35 +0300
Processing by Api::V1::UsersController#destroy as */*
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:72:in `set_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:42:in `destroy'
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/api/v1/users_controller.rb:42:in `destroy'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:42:in `destroy'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 6.2ms | Allocations: 3879)


  
ArgumentError (Unrecognized status code :delete):
  
app/controllers/api/v1/users_controller.rb:43:in `destroy'
Started DELETE "/api/v1/users/3" for ::1 at 2023-10-23 12:24:44 +0300
  
SyntaxError (/home/phillip/Development/project/pos-api/app/controllers/api/v1/users_controller.rb:44: syntax error, unexpected `end'
  end
  ^~~
/home/phillip/Development/project/pos-api/app/controllers/api/v1/users_controller.rb:74: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/api/v1/users_controller.rb:44: syntax error, unexpected `end'
app/controllers/api/v1/users_controller.rb:74: syntax error, unexpected end-of-input, expecting `end'
app/controllers/api/v1/users_controller.rb:44: syntax error, unexpected `end'
app/controllers/api/v1/users_controller.rb:74: syntax error, unexpected end-of-input, expecting `end'
Started DELETE "/api/v1/users/3" for ::1 at 2023-10-23 12:25:06 +0300
Processing by Api::V1::UsersController#destroy as */*
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:72:in `set_user'
Completed 404 Not Found in 8ms (ActiveRecord: 1.4ms | Allocations: 2375)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=3):
  
app/controllers/api/v1/users_controller.rb:72:in `set_user'
Started POST "/api/v1/register" for ::1 at 2023-10-23 12:25:11 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phillip@nzau.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Phillip"], ["last_name", "Nzau"], ["email", "phillip@nzau.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 09:25:11.533952"], ["updated_at", "2023-10-23 09:25:11.533952"], ["role", "user"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 201 Created in 231ms (Views: 1.1ms | ActiveRecord: 5.5ms | Allocations: 7094)


Started DELETE "/api/v1/users/4" for ::1 at 2023-10-23 12:25:18 +0300
Processing by Api::V1::UsersController#destroy as */*
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:72:in `set_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:42:in `destroy'
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 4]]
  ↳ app/controllers/api/v1/users_controller.rb:42:in `destroy'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:42:in `destroy'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 4.2ms | Allocations: 3695)


  
ArgumentError (Unrecognized status code :success):
  
app/controllers/api/v1/users_controller.rb:43:in `destroy'
Started DELETE "/api/v1/users/4" for ::1 at 2023-10-23 12:25:37 +0300
Processing by Api::V1::UsersController#destroy as */*
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:72:in `set_user'
Completed 404 Not Found in 5ms (ActiveRecord: 1.0ms | Allocations: 2367)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=4):
  
app/controllers/api/v1/users_controller.rb:72:in `set_user'
Started POST "/api/v1/register" for ::1 at 2023-10-23 12:25:41 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phillip@nzau.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Phillip"], ["last_name", "Nzau"], ["email", "phillip@nzau.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 09:25:41.757600"], ["updated_at", "2023-10-23 09:25:41.757600"], ["role", "user"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 201 Created in 224ms (Views: 0.8ms | ActiveRecord: 4.2ms | Allocations: 7038)


Started DELETE "/api/v1/users/5" for ::1 at 2023-10-23 12:25:48 +0300
Processing by Api::V1::UsersController#destroy as */*
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:72:in `set_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:42:in `destroy'
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 5]]
  ↳ app/controllers/api/v1/users_controller.rb:42:in `destroy'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:42:in `destroy'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 10ms (Views: 1.4ms | ActiveRecord: 3.8ms | Allocations: 4362)


  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20231019094854)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019094854"]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20231019100809)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "price" decimal, "barcode" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_barcode" ON "products" ("barcode")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100809"]]
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductInventories (20231019100836)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "product_inventories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "stock_quantity" integer, "restock_alert_threshold" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_889dd5a582"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_product_inventories_on_product_id" ON "product_inventories" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100836"]]
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20231019100849)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100849"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductCategories (20231019100907)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "product_categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_98a9a32a41"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_005b71ca83"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_product_id" ON "product_categories" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_category_id" ON "product_categories" ("category_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100907"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddRoleToUsers (20231023075600)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "role" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231023075600"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-23 09:26:03.079760"], ["updated_at", "2023-10-23 09:26:03.079760"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/register" for ::1 at 2023-10-23 12:26:16 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"Phillip", "last_name"=>"Nzau", "email"=>"phillip@nzau.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Phillip"], ["last_name", "Nzau"], ["email", "phillip@nzau.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 09:26:16.954006"], ["updated_at", "2023-10-23 09:26:16.954006"], ["role", "user"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 201 Created in 252ms (Views: 1.8ms | ActiveRecord: 6.2ms | Allocations: 45277)


Started POST "/api/v1/register" for ::1 at 2023-10-23 12:26:54 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"Admin", "last_name"=>"Admin", "email"=>"admin@admin.com", "password"=>"[FILTERED]", "role"=>"admin"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Admin"], ["last_name", "Admin"], ["email", "admin@admin.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 09:26:55.182781"], ["updated_at", "2023-10-23 09:26:55.182781"], ["role", "admin"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "admin@admin.com"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 201 Created in 216ms (Views: 0.5ms | ActiveRecord: 4.0ms | Allocations: 4706)


Started GET "/api/v1/users" for ::1 at 2023-10-23 12:26:59 +0300
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Filter chain halted as :authorize_admin rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 1.5ms | ActiveRecord: 0.2ms | Allocations: 2818)


Started POST "/api/v1/login" for ::1 at 2023-10-23 12:31:59 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"admin@admin.com", "password"=>"[FILTERED]", "user"=>{"email"=>"admin@admin.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:16:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 201 Created in 243ms (Views: 1.4ms | ActiveRecord: 0.8ms | Allocations: 40105)


Started PATCH "/api/v1/users/1" for ::1 at 2023-10-23 12:32:13 +0300
Processing by Api::V1::UsersController#update as */*
  Parameters: {"user"=>{"first_name"=>"Admin2"}, "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:72:in `set_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "first_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["first_name", "Admin2"], ["updated_at", "2023-10-23 09:32:13.212582"], ["id", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.52ms)
Completed 200 OK in 30ms (Views: 11.9ms | ActiveRecord: 4.8ms | Allocations: 8418)


  [1m[35m (6.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20231019094854)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019094854"]]
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20231019100809)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "price" decimal, "barcode" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_barcode" ON "products" ("barcode")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100809"]]
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductInventories (20231019100836)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "product_inventories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "stock_quantity" integer, "restock_alert_threshold" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_889dd5a582"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_inventories_on_product_id" ON "product_inventories" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100836"]]
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20231019100849)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100849"]]
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductCategories (20231019100907)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "product_categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_98a9a32a41"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_005b71ca83"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_product_id" ON "product_categories" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_category_id" ON "product_categories" ("category_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100907"]]
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddRoleToUsers (20231023075600)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "role" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231023075600"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-23 09:32:55.229526"], ["updated_at", "2023-10-23 09:32:55.229526"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/register" for ::1 at 2023-10-23 12:33:09 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"Admin", "last_name"=>"Admin", "email"=>"admin@admin.com", "password"=>"[FILTERED]", "role"=>"admin"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Admin"], ["last_name", "Admin"], ["email", "admin@admin.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 09:33:09.987110"], ["updated_at", "2023-10-23 09:33:09.987110"], ["role", "admin"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "admin@admin.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 201 Created in 245ms (Views: 1.4ms | ActiveRecord: 4.6ms | Allocations: 45275)


Started POST "/api/v1/register" for ::1 at 2023-10-23 12:33:44 +0300
Error occurred while parsing request parameters.
Contents:

{
    
    
    
    
    
    
    
    "user": {
        "first_name": "phillip",
        "last_name": "Nzau",
        "email": "phillip@nzau.com",
        "password": "password",
        
    }
}

Processing by Api::V1::UsersController#register as */*
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 148)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/api/v1/users_controller.rb:49:in `user_params'
app/controllers/api/v1/users_controller.rb:7:in `register'
Started POST "/api/v1/register" for ::1 at 2023-10-23 12:33:51 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"phillip", "last_name"=>"Nzau", "email"=>"phillip@nzau.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "phillip"], ["last_name", "Nzau"], ["email", "phillip@nzau.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 09:33:52.175951"], ["updated_at", "2023-10-23 09:33:52.175951"], ["role", "user"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 201 Created in 238ms (Views: 0.7ms | ActiveRecord: 8.6ms | Allocations: 4705)


Started GET "/routes" for 127.0.0.1 at 2023-10-23 12:35:13 +0300
  
ActionController::RoutingError (No route matches [GET] "/routes"):
  
Started PATCH "/api/v1/users" for ::1 at 2023-10-23 12:35:32 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/api/v1/users"):
  
Started PATCH "/api/v1/users/update" for ::1 at 2023-10-23 12:35:55 +0300
Processing by Api::V1::UsersController#update as */*
  Parameters: {"user"=>{"first_name"=>"Admin2"}}
Completed 404 Not Found in 2ms (ActiveRecord: 0.7ms | Allocations: 695)


  
ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  
app/controllers/api/v1/users_controller.rb:72:in `set_user'
Started PATCH "/api/v1/users/update" for ::1 at 2023-10-23 12:38:39 +0300
Processing by Api::V1::UsersController#update as */*
  Parameters: {"user"=>{"first_name"=>"Admin2"}}
Completed 404 Not Found in 2ms (ActiveRecord: 0.9ms | Allocations: 661)


  
ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  
app/controllers/api/v1/users_controller.rb:85:in `set_user'
Started GET "/routes" for 127.0.0.1 at 2023-10-23 12:38:58 +0300
  
ActionController::RoutingError (No route matches [GET] "/routes"):
  
Started PATCH "/api/v1/users/update/2" for ::1 at 2023-10-23 12:39:38 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/api/v1/users/update/2"):
  
Started PATCH "/api/v1/users/update/2" for ::1 at 2023-10-23 12:40:49 +0300
Processing by Api::V1::UsersController#update as */*
  Parameters: {"user"=>{"first_name"=>"Admin2"}, "id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:85:in `set_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Filter chain halted as :authorize_admin rendered or redirected
Completed 401 Unauthorized in 14ms (Views: 2.3ms | ActiveRecord: 1.5ms | Allocations: 5635)


Started PATCH "/api/v1/users/update/2" for ::1 at 2023-10-23 12:41:03 +0300
Processing by Api::V1::UsersController#update as */*
  Parameters: {"user"=>{"first_name"=>"Admin2"}, "id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:85:in `set_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "first_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["first_name", "Admin2"], ["updated_at", "2023-10-23 09:41:03.058855"], ["id", 2]]
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:36:in `update'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 200 OK in 22ms (Views: 2.1ms | ActiveRecord: 5.4ms | Allocations: 8126)


Started GET "/api/v1/users" for ::1 at 2023-10-23 12:41:17 +0300
Processing by Api::V1::UsersController#index as */*
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 333)


Started POST "/api/v1/login" for ::1 at 2023-10-23 12:41:22 +0300
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"admin@admin.com", "password"=>"[FILTERED]", "user"=>{"email"=>"admin@admin.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:16:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 201 Created in 223ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 996)


Started GET "/api/v1/users" for ::1 at 2023-10-23 12:41:34 +0300
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/v1/users_controller.rb:26:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.78ms)
Completed 200 OK in 15ms (Views: 11.4ms | ActiveRecord: 0.3ms | Allocations: 5530)


Started POST "/api/v1/login" for ::1 at 2023-10-23 12:42:12 +0300
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"phillip@nzau.com", "password"=>"[FILTERED]", "user"=>{"email"=>"phillip@nzau.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:16:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 201 Created in 235ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 865)


Started PATCH "/api/v1/users/update/1" for ::1 at 2023-10-23 12:42:42 +0300
Processing by Api::V1::UsersController#update as */*
  Parameters: {"user"=>{"first_name"=>"Admin"}, "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:85:in `set_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "admin@admin.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "role" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-10-23 09:42:42.518984"], ["role", "user"], ["id", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:36:in `update'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 200 OK in 18ms (Views: 1.8ms | ActiveRecord: 5.7ms | Allocations: 4499)


Started PATCH "/api/v1/users/update" for ::1 at 2023-10-23 12:45:03 +0300
Processing by Api::V1::UsersController#update as */*
  Parameters: {"user"=>{"first_name"=>"Admin"}}
Completed 404 Not Found in 2ms (ActiveRecord: 0.7ms | Allocations: 660)


  
ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  
app/controllers/api/v1/users_controller.rb:72:in `set_user'
Started PATCH "/api/v1/users/update/1" for ::1 at 2023-10-23 12:45:10 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/api/v1/users/update/1"):
  
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20231019094854)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019094854"]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20231019100809)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "price" decimal, "barcode" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_barcode" ON "products" ("barcode")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100809"]]
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductInventories (20231019100836)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "product_inventories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "stock_quantity" integer, "restock_alert_threshold" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_889dd5a582"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_product_inventories_on_product_id" ON "product_inventories" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100836"]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20231019100849)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100849"]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductCategories (20231019100907)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "product_categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_98a9a32a41"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_005b71ca83"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_product_id" ON "product_categories" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_category_id" ON "product_categories" ("category_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100907"]]
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddRoleToUsers (20231023075600)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "role" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231023075600"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-23 09:46:43.932239"], ["updated_at", "2023-10-23 09:46:43.932239"]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/register" for ::1 at 2023-10-23 12:46:59 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"phillip", "last_name"=>"Nzau", "email"=>"phillip@nzau.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "phillip"], ["last_name", "Nzau"], ["email", "phillip@nzau.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 09:47:00.319644"], ["updated_at", "2023-10-23 09:47:00.319644"], ["role", "user"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.21ms)
Completed 201 Created in 433ms (Views: 2.6ms | ActiveRecord: 6.4ms | Allocations: 45283)


Started POST "/api/v1/register" for ::1 at 2023-10-23 12:47:12 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"Admin", "last_name"=>"Admin", "email"=>"admin@admin.com", "password"=>"[FILTERED]", "role"=>"admin"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Admin"], ["last_name", "Admin"], ["email", "admin@admin.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 09:47:12.462896"], ["updated_at", "2023-10-23 09:47:12.462896"], ["role", "admin"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "admin@admin.com"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.22ms)
Completed 201 Created in 373ms (Views: 0.8ms | ActiveRecord: 4.9ms | Allocations: 4710)


Started POST "/api/v1/login" for ::1 at 2023-10-23 12:47:52 +0300
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"phillip@nzau.com", "password"=>"[FILTERED]", "user"=>{"email"=>"phillip@nzau.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:16:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 201 Created in 349ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 1116)


Started PATCH "/api/v1/users/update/1" for ::1 at 2023-10-23 12:48:17 +0300
Processing by Api::V1::UsersController#update as */*
  Parameters: {"user"=>{"first_name"=>"Admin"}, "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:73:in `set_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "first_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["first_name", "Admin"], ["updated_at", "2023-10-23 09:48:17.389790"], ["id", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.62ms)
Completed 200 OK in 40ms (Views: 16.7ms | ActiveRecord: 4.9ms | Allocations: 8155)


Started PATCH "/api/v1/users/update/1" for ::1 at 2023-10-23 12:51:18 +0300
Processing by Api::V1::UsersController#update as */*
  Parameters: {"user"=>{"first_name"=>"Admin"}, "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:73:in `set_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.67ms)
Completed 200 OK in 34ms (Views: 5.2ms | ActiveRecord: 2.7ms | Allocations: 8657)


Started PATCH "/api/v1/users/update/5" for ::1 at 2023-10-23 12:52:34 +0300
Processing by Api::V1::UsersController#update as */*
  Parameters: {"user"=>{"first_name"=>"Admin"}, "id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:73:in `set_user'
Completed 404 Not Found in 2ms (ActiveRecord: 0.1ms | Allocations: 514)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=5):
  
app/controllers/api/v1/users_controller.rb:73:in `set_user'
Started PATCH "/api/v1/users/update/2" for ::1 at 2023-10-23 12:52:43 +0300
Processing by Api::V1::UsersController#update as */*
  Parameters: {"user"=>{"first_name"=>"Admin"}, "id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:73:in `set_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.55ms)
Completed 200 OK in 14ms (Views: 2.0ms | ActiveRecord: 0.7ms | Allocations: 5011)


Started PATCH "/api/v1/users/update/2" for ::1 at 2023-10-23 12:52:49 +0300
Processing by Api::V1::UsersController#update as */*
  Parameters: {"user"=>{"first_name"=>"Admin2"}, "id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:73:in `set_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "first_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["first_name", "Admin2"], ["updated_at", "2023-10-23 09:52:49.886492"], ["id", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.38ms)
Completed 200 OK in 22ms (Views: 3.8ms | ActiveRecord: 4.6ms | Allocations: 5657)


Started PATCH "/api/v1/users/update/2" for ::1 at 2023-10-23 12:53:08 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/api/v1/users/update/2"):
  
Started PATCH "/api/v1/users/update/" for ::1 at 2023-10-23 12:53:13 +0300
Processing by Api::V1::UsersController#update as */*
  Parameters: {"user"=>{"first_name"=>"Admin2"}}
Completed 404 Not Found in 3ms (ActiveRecord: 1.2ms | Allocations: 668)


  
ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  
app/controllers/api/v1/users_controller.rb:73:in `set_user'
Started PATCH "/api/v1/users/update" for ::1 at 2023-10-23 12:53:16 +0300
Processing by Api::V1::UsersController#update as */*
  Parameters: {"user"=>{"first_name"=>"Admin2"}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  
app/controllers/api/v1/users_controller.rb:73:in `set_user'
Started PATCH "/api/v1/users/update" for ::1 at 2023-10-23 12:56:13 +0300
Processing by Api::V1::UsersController#update as */*
  Parameters: {"user"=>{"first_name"=>"Admin2"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:74:in `set_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (5.33ms)
Completed 200 OK in 137ms (Views: 25.7ms | ActiveRecord: 2.4ms | Allocations: 8732)


Started DELETE "/api/v1/users/5" for ::1 at 2023-10-23 12:56:40 +0300
Processing by Api::V1::UsersController#destroy as */*
  Parameters: {"id"=>"5"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 621)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/api/v1/users_controller.rb:73:in `set_user'
Started GET "/api/v1/users" for ::1 at 2023-10-23 12:56:46 +0300
Processing by Api::V1::UsersController#index as */*
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 465)


Started POST "/api/v1/login" for ::1 at 2023-10-23 12:57:03 +0300
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"admin@admin.com", "password"=>"[FILTERED]", "user"=>{"email"=>"admin@admin.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:16:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.23ms)
Completed 201 Created in 412ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 989)


Started DELETE "/api/v1/users/1" for ::1 at 2023-10-23 12:57:20 +0300
Processing by Api::V1::UsersController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:74:in `set_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:43:in `destroy'
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/api/v1/users_controller.rb:43:in `destroy'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:43:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 200 OK in 18ms (Views: 3.4ms | ActiveRecord: 4.5ms | Allocations: 4318)


Started GET "/api/v1/users" for ::1 at 2023-10-23 12:57:25 +0300
Processing by Api::V1::UsersController#index as */*
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 324)


Started GET "/api/v1/users" for ::1 at 2023-10-23 12:57:30 +0300
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 2.6ms | ActiveRecord: 0.2ms | Allocations: 1333)


Started GET "/api/v1/users" for ::1 at 2023-10-23 12:57:56 +0300
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 2.4ms | ActiveRecord: 0.1ms | Allocations: 1333)


Started POST "/api/v1/login" for ::1 at 2023-10-23 12:58:07 +0300
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"phillip@nzau.com", "password"=>"[FILTERED]", "user"=>{"email"=>"phillip@nzau.com"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:16:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 201 Created in 383ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 850)


Started GET "/api/v1/users" for ::1 at 2023-10-23 12:58:18 +0300
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Filter chain halted as :authorize_admin rendered or redirected
Completed 401 Unauthorized in 8ms (Views: 2.1ms | ActiveRecord: 0.2ms | Allocations: 2454)


  [1m[35m (8.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20231019094854)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019094854"]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20231019100809)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "price" decimal, "barcode" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_barcode" ON "products" ("barcode")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100809"]]
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductInventories (20231019100836)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "product_inventories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "stock_quantity" integer, "restock_alert_threshold" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_889dd5a582"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_product_inventories_on_product_id" ON "product_inventories" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100836"]]
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20231019100849)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100849"]]
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductCategories (20231019100907)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "product_categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_98a9a32a41"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_005b71ca83"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_product_id" ON "product_categories" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_category_id" ON "product_categories" ("category_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100907"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddRoleToUsers (20231023075600)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "users" ADD "role" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231023075600"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-23 09:58:43.157342"], ["updated_at", "2023-10-23 09:58:43.157342"]]
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/register" for ::1 at 2023-10-23 12:59:02 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"phillip", "last_name"=>"Nzau", "email"=>"phillip@nzau.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "phillip"], ["last_name", "Nzau"], ["email", "phillip@nzau.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 09:59:03.209259"], ["updated_at", "2023-10-23 09:59:03.209259"], ["role", "user"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.37ms)
Completed 201 Created in 440ms (Views: 3.3ms | ActiveRecord: 6.6ms | Allocations: 45283)


Started POST "/api/v1/register" for ::1 at 2023-10-23 12:59:25 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"Admin", "last_name"=>"Admin", "email"=>"admin@admin.com", "password"=>"[FILTERED]", "role"=>"admin"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Admin"], ["last_name", "Admin"], ["email", "admin@admin.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 09:59:26.176948"], ["updated_at", "2023-10-23 09:59:26.176948"], ["role", "admin"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "admin@admin.com"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.32ms)
Completed 201 Created in 406ms (Views: 1.2ms | ActiveRecord: 5.7ms | Allocations: 4707)


Started POST "/api/v1/login" for ::1 at 2023-10-23 12:59:31 +0300
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"phillip@nzau.com", "password"=>"[FILTERED]", "user"=>{"email"=>"phillip@nzau.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:16:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.33ms)
Completed 201 Created in 441ms (Views: 1.2ms | ActiveRecord: 0.2ms | Allocations: 1113)


Started PATCH "/api/v1/users/update" for ::1 at 2023-10-23 12:59:43 +0300
Processing by Api::V1::UsersController#update as */*
  Parameters: {"user"=>{"first_name"=>"Admin2"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:74:in `set_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "first_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["first_name", "Admin2"], ["updated_at", "2023-10-23 09:59:43.808123"], ["id", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.98ms)
Completed 200 OK in 41ms (Views: 16.9ms | ActiveRecord: 5.3ms | Allocations: 8266)


Started PATCH "/api/v1/users/update" for ::1 at 2023-10-23 12:59:55 +0300
Processing by Api::V1::UsersController#update as */*
  Parameters: {"user"=>{"first_name"=>"Admin2"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 606)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/api/v1/users_controller.rb:73:in `set_user'
Started PATCH "/api/v1/users/update" for ::1 at 2023-10-23 13:00:02 +0300
Processing by Api::V1::UsersController#update as */*
  Parameters: {"user"=>{"first_name"=>"Admin2"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:74:in `set_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:34:in `update'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.73ms)
Completed 200 OK in 19ms (Views: 3.6ms | ActiveRecord: 0.7ms | Allocations: 5044)


Started DELETE "/api/v1/users/1" for ::1 at 2023-10-23 13:00:18 +0300
Processing by Api::V1::UsersController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:74:in `set_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:43:in `destroy'
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/api/v1/users_controller.rb:43:in `destroy'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:43:in `destroy'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 200 OK in 28ms (Views: 3.6ms | ActiveRecord: 7.3ms | Allocations: 4311)


Started DELETE "/api/v1/users/1" for ::1 at 2023-10-23 13:00:21 +0300
Processing by Api::V1::UsersController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:74:in `set_user'
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms | Allocations: 577)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=2):
  
app/controllers/api/v1/users_controller.rb:74:in `set_user'
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20231019094854)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019094854"]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20231019100809)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "price" decimal, "barcode" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_barcode" ON "products" ("barcode")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100809"]]
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductInventories (20231019100836)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "product_inventories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "stock_quantity" integer, "restock_alert_threshold" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_889dd5a582"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_product_inventories_on_product_id" ON "product_inventories" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100836"]]
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20231019100849)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100849"]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductCategories (20231019100907)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "product_categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_98a9a32a41"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_005b71ca83"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_product_id" ON "product_categories" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_category_id" ON "product_categories" ("category_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100907"]]
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddRoleToUsers (20231023075600)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD "role" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231023075600"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-23 10:01:49.643022"], ["updated_at", "2023-10-23 10:01:49.643022"]]
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/register" for ::1 at 2023-10-23 13:01:58 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"Admin", "last_name"=>"Admin", "email"=>"admin@admin.com", "password"=>"[FILTERED]", "role"=>"admin"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Admin"], ["last_name", "Admin"], ["email", "admin@admin.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 10:01:59.222339"], ["updated_at", "2023-10-23 10:01:59.222339"], ["role", "admin"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "admin@admin.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.33ms)
Completed 201 Created in 466ms (Views: 3.4ms | ActiveRecord: 6.4ms | Allocations: 45283)


Started POST "/api/v1/register" for ::1 at 2023-10-23 13:02:08 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"phillip", "last_name"=>"Nzau", "email"=>"phillip@nzau.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "phillip"], ["last_name", "Nzau"], ["email", "phillip@nzau.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 10:02:08.499346"], ["updated_at", "2023-10-23 10:02:08.499346"], ["role", "user"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.37ms)
Completed 201 Created in 407ms (Views: 1.7ms | ActiveRecord: 5.0ms | Allocations: 4707)


Started POST "/api/v1/login" for ::1 at 2023-10-23 13:02:33 +0300
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"phillip@nzau.com", "password"=>"[FILTERED]", "user"=>{"email"=>"phillip@nzau.com"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:16:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.28ms)
Completed 201 Created in 384ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 1113)


Started GET "/api/v1/users" for ::1 at 2023-10-23 13:02:46 +0300
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Filter chain halted as :authorize_admin rendered or redirected
Completed 401 Unauthorized in 11ms (Views: 2.8ms | ActiveRecord: 0.4ms | Allocations: 2698)


Started DELETE "/api/v1/users/1" for ::1 at 2023-10-23 13:03:00 +0300
Processing by Api::V1::UsersController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:76:in `set_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Filter chain halted as :authorize_admin rendered or redirected
Completed 401 Unauthorized in 25ms (Views: 8.4ms | ActiveRecord: 0.5ms | Allocations: 2990)


Started PATCH "/api/v1/users/update" for ::1 at 2023-10-23 13:03:15 +0300
Processing by Api::V1::UsersController#update as */*
  Parameters: {"user"=>{"first_name"=>"Admin2"}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 152)


  
ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  
app/controllers/api/v1/users_controller.rb:76:in `set_user'
Started PATCH "/api/v1/users/update" for ::1 at 2023-10-23 13:03:42 +0300
Processing by Api::V1::UsersController#update as */*
  Parameters: {"user"=>{"first_name"=>"Admin2"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:35:in `update'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:37:in `update'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:37:in `update'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "first_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["first_name", "Admin2"], ["updated_at", "2023-10-23 10:03:42.416153"], ["id", 2]]
  ↳ app/controllers/api/v1/users_controller.rb:37:in `update'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:37:in `update'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.95ms)
Completed 200 OK in 65ms (Views: 15.6ms | ActiveRecord: 7.0ms | Allocations: 11322)


Started POST "/api/v1/login" for ::1 at 2023-10-23 13:04:14 +0300
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"admin@admin.com", "password"=>"[FILTERED]", "user"=>{"email"=>"admin@admin.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:16:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.26ms)
Completed 201 Created in 410ms (Views: 1.4ms | ActiveRecord: 0.3ms | Allocations: 1142)


Started GET "/api/v1/users" for ::1 at 2023-10-23 13:04:25 +0300
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/v1/users_controller.rb:26:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.1ms)
Completed 200 OK in 15ms (Views: 7.3ms | ActiveRecord: 0.7ms | Allocations: 3417)


Started PATCH "/api/v1/users/update" for ::1 at 2023-10-23 13:04:39 +0300
Processing by Api::V1::UsersController#update as */*
  Parameters: {"user"=>{"first_name"=>"The Admin"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:35:in `update'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:37:in `update'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:37:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "first_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["first_name", "The Admin"], ["updated_at", "2023-10-23 10:04:39.179164"], ["id", 2]]
  ↳ app/controllers/api/v1/users_controller.rb:37:in `update'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:37:in `update'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered UserSerializer with ActiveModelSerializers::Adapter::Attributes (0.36ms)
Completed 200 OK in 29ms (Views: 3.4ms | ActiveRecord: 5.1ms | Allocations: 5669)


Started GET "/api/v1/users" for ::1 at 2023-10-23 13:04:44 +0300
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/v1/users_controller.rb:26:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.95ms)
Completed 200 OK in 12ms (Views: 6.4ms | ActiveRecord: 0.4ms | Allocations: 3317)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/routes" for 127.0.0.1 at 2023-10-23 13:16:24 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/routes"):
  
Started POST "/api/v1/login" for ::1 at 2023-10-23 13:16:37 +0300
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"admin@admin.com", "password"=>"[FILTERED]", "user"=>{"email"=>"admin@admin.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:16:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 201 Created in 417ms (Views: 2.1ms | ActiveRecord: 2.0ms | Allocations: 19506)


Started POST "/api/v1/categories" for ::1 at 2023-10-23 13:17:56 +0300
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"category"=>{"name"=>"Electronics"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/categories_controller.rb:22:in `create'
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Electronics"], ["created_at", "2023-10-23 10:17:56.548021"], ["updated_at", "2023-10-23 10:17:56.548021"]]
  ↳ app/controllers/api/v1/categories_controller.rb:22:in `create'
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/categories_controller.rb:22:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered CategorySerializer with ActiveModelSerializers::Adapter::Attributes (0.62ms)
Completed 201 Created in 63ms (Views: 13.5ms | ActiveRecord: 6.2ms | Allocations: 20528)


Started POST "/api/v1/products" for ::1 at 2023-10-23 13:18:51 +0300
Processing by Api::V1::ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Laptop", "description"=>"Powerful laptop", "price"=>999.99, "barcode"=>"12345"}, "stock_quantity"=>100, "restock_alert_threshold"=>20, "category_ids"=>[1]}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:22:in `create'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Laptop"], ["description", "Powerful laptop"], ["price", 999.99], ["barcode", "12345"], ["created_at", "2023-10-23 10:18:51.591386"], ["updated_at", "2023-10-23 10:18:51.591386"]]
  ↳ app/controllers/api/v1/products_controller.rb:22:in `create'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:25:in `create'
  [1m[36mProductInventory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 1], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 10:18:51.635712"], ["updated_at", "2023-10-23 10:18:51.635712"]]
  ↳ app/controllers/api/v1/products_controller.rb:25:in `create'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:29:in `block in create'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:29:in `block in create'
  [1m[36mProductCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["category_id", 1], ["created_at", "2023-10-23 10:18:51.778512"], ["updated_at", "2023-10-23 10:18:51.778512"]]
  ↳ app/controllers/api/v1/products_controller.rb:29:in `block in create'
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:29:in `block in create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers]   [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:32:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (12.55ms)
Completed 201 Created in 249ms (Views: 15.5ms | ActiveRecord: 17.7ms | Allocations: 66729)


Started GET "/api/v1/products" for ::1 at 2023-10-23 13:18:58 +0300
Processing by Api::V1::ProductsController#index as */*
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/products_controller.rb:10:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.87ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.2ms | Allocations: 1370)


Started GET "/api/v1/products/1" for ::1 at 2023-10-23 13:19:06 +0300
Processing by Api::V1::ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:58:in `set_product'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (0.42ms)
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 893)


Started GET "/api/v1/categories" for ::1 at 2023-10-23 13:19:14 +0300
Processing by Api::V1::CategoriesController#index as */*
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/categories_controller.rb:10:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.56ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.2ms | Allocations: 955)


Started POST "/api/v1/products" for ::1 at 2023-10-23 13:21:44 +0300
Processing by Api::V1::ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Samsung S20", "description"=>"Powerful Samsung", "price"=>459.0, "barcode"=>"32165"}, "stock_quantity"=>100, "restock_alert_threshold"=>20, "category_ids"=>[1]}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:21:in `create'
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Samsung S20"], ["description", "Powerful Samsung"], ["price", 459.0], ["barcode", "32165"], ["created_at", "2023-10-23 10:21:44.387532"], ["updated_at", "2023-10-23 10:21:44.387532"]]
  ↳ app/controllers/api/v1/products_controller.rb:21:in `create'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:21:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:62:in `create_product_inventory'
  [1m[36mProductInventory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 2], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 10:21:44.406407"], ["updated_at", "2023-10-23 10:21:44.406407"]]
  ↳ app/controllers/api/v1/products_controller.rb:62:in `create_product_inventory'
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:62:in `create_product_inventory'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:69:in `create_product_categories'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:69:in `create_product_categories'
  [1m[36mProductCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["category_id", 1], ["created_at", "2023-10-23 10:21:44.455534"], ["updated_at", "2023-10-23 10:21:44.455534"]]
  ↳ app/controllers/api/v1/products_controller.rb:69:in `create_product_categories'
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:69:in `create_product_categories'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.78ms)
Completed 201 Created in 113ms (Views: 3.3ms | ActiveRecord: 23.0ms | Allocations: 27287)


Started GET "/api/v1/products" for ::1 at 2023-10-23 13:22:42 +0300
Processing by Api::V1::ProductsController#index as */*
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.79ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.2ms | Allocations: 1482)


Started GET "/routes" for 127.0.0.1 at 2023-10-23 13:23:36 +0300
  
ActionController::RoutingError (No route matches [GET] "/routes"):
  
Started GET "/routes" for 127.0.0.1 at 2023-10-23 13:23:58 +0300
  
ActionController::RoutingError (No route matches [GET] "/routes"):
  
Started PATCH "/api/v1/products/1" for ::1 at 2023-10-23 13:25:58 +0300
Processing by Api::V1::ProductsController#update as */*
  Parameters: {"product"=>{"price"=>40.0}, "id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:48:in `set_product'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:33:in `update'
  [1m[36mProduct Update (0.7ms)[0m  [1m[33mUPDATE "products" SET "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["price", 40.0], ["updated_at", "2023-10-23 10:25:58.780342"], ["id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:33:in `update'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:33:in `update'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (1.42ms)
Completed 200 OK in 60ms (Views: 9.5ms | ActiveRecord: 8.0ms | Allocations: 11183)


Started GET "/api/v1/products" for ::1 at 2023-10-23 13:26:10 +0300
Processing by Api::V1::ProductsController#index as */*
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.38ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms | Allocations: 1120)


Started PATCH "/api/v1/products/1" for ::1 at 2023-10-23 13:26:24 +0300
Processing by Api::V1::ProductsController#update as */*
  Parameters: {"product"=>{"price"=>999.9}, "id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:48:in `set_product'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:33:in `update'
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["price", 999.9], ["updated_at", "2023-10-23 10:26:24.558448"], ["id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:33:in `update'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:33:in `update'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (0.71ms)
Completed 200 OK in 21ms (Views: 3.8ms | ActiveRecord: 5.6ms | Allocations: 4838)


Started DELETE "/api/v1/products/1" for ::1 at 2023-10-23 13:27:23 +0300
Processing by Api::V1::ProductsController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:48:in `set_product'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 29ms (Views: 1.3ms | ActiveRecord: 3.2ms | Allocations: 6798)


Started DELETE "/api/v1/products/1" for ::1 at 2023-10-23 13:27:31 +0300
Processing by Api::V1::ProductsController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:48:in `set_product'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:42:in `destroy'
  [1m[36mProduct Destroy (1.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:42:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:42:in `destroy'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 2.4ms | Allocations: 6950)


  
ActiveRecord::InvalidForeignKey (SQLite3::ConstraintException: FOREIGN KEY constraint failed):
  
app/controllers/api/v1/products_controller.rb:42:in `destroy'
Started DELETE "/api/v1/products/1" for ::1 at 2023-10-23 13:29:44 +0300
Processing by Api::V1::ProductsController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:54:in `set_product'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:42:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:44:in `destroy'
  [1m[36mProductCategory Load (0.3ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:44:in `destroy'
  [1m[36mProductCategory Destroy (0.4ms)[0m  [1m[31mDELETE FROM "product_categories" WHERE "product_categories"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:44:in `destroy'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:44:in `destroy'
  [1m[36mProduct Destroy (0.6ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:44:in `destroy'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:44:in `destroy'
Completed 500 Internal Server Error in 64ms (ActiveRecord: 6.4ms | Allocations: 23939)


  
ActiveRecord::InvalidForeignKey (SQLite3::ConstraintException: FOREIGN KEY constraint failed):
  
app/controllers/api/v1/products_controller.rb:44:in `destroy'
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20231019094854)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019094854"]]
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20231019100809)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "price" decimal, "barcode" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_barcode" ON "products" ("barcode")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100809"]]
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductInventories (20231019100836)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "product_inventories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "stock_quantity" integer, "restock_alert_threshold" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_889dd5a582"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_product_inventories_on_product_id" ON "product_inventories" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100836"]]
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20231019100849)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100849"]]
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductCategories (20231019100907)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "product_categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_98a9a32a41"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_005b71ca83"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_product_id" ON "product_categories" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_category_id" ON "product_categories" ("category_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100907"]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddRoleToUsers (20231023075600)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "role" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231023075600"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-23 10:30:01.964040"], ["updated_at", "2023-10-23 10:30:01.964040"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/register" for ::1 at 2023-10-23 13:30:39 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"phillip", "last_name"=>"Nzau", "email"=>"phillip@nzau.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "phillip"], ["last_name", "Nzau"], ["email", "phillip@nzau.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 10:30:40.039645"], ["updated_at", "2023-10-23 10:30:40.039645"], ["role", "user"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.46ms)
Completed 201 Created in 446ms (Views: 3.9ms | ActiveRecord: 6.5ms | Allocations: 45276)


Started POST "/api/v1/register" for ::1 at 2023-10-23 13:30:47 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"Admin", "last_name"=>"Admin", "email"=>"admin@admin.com", "password"=>"[FILTERED]", "role"=>"admin"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Admin"], ["last_name", "Admin"], ["email", "admin@admin.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 10:30:48.023752"], ["updated_at", "2023-10-23 10:30:48.023752"], ["role", "admin"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "admin@admin.com"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.25ms)
Completed 201 Created in 372ms (Views: 0.9ms | ActiveRecord: 5.4ms | Allocations: 4706)


Started POST "/api/v1/categories" for ::1 at 2023-10-23 13:31:02 +0300
Processing by Api::V1::CategoriesController#create as */*
  Parameters: {"category"=>{"name"=>"Electronics"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/categories_controller.rb:22:in `create'
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Electronics"], ["created_at", "2023-10-23 10:31:02.419278"], ["updated_at", "2023-10-23 10:31:02.419278"]]
  ↳ app/controllers/api/v1/categories_controller.rb:22:in `create'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/categories_controller.rb:22:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered CategorySerializer with ActiveModelSerializers::Adapter::Attributes (0.6ms)
Completed 201 Created in 60ms (Views: 14.2ms | ActiveRecord: 6.3ms | Allocations: 20260)


Started POST "/api/v1/products" for ::1 at 2023-10-23 13:31:13 +0300
Processing by Api::V1::ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Samsung S20", "description"=>"Powerful Samsung", "price"=>459.0, "barcode"=>"32165"}, "stock_quantity"=>100, "restock_alert_threshold"=>20, "category_ids"=>[1]}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:21:in `create'
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Samsung S20"], ["description", "Powerful Samsung"], ["price", 459.0], ["barcode", "32165"], ["created_at", "2023-10-23 10:31:13.914726"], ["updated_at", "2023-10-23 10:31:13.914726"]]
  ↳ app/controllers/api/v1/products_controller.rb:21:in `create'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:21:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:68:in `create_product_inventory'
  [1m[36mProductInventory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 1], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 10:31:13.959634"], ["updated_at", "2023-10-23 10:31:13.959634"]]
  ↳ app/controllers/api/v1/products_controller.rb:68:in `create_product_inventory'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:68:in `create_product_inventory'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:75:in `create_product_categories'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:75:in `create_product_categories'
  [1m[36mProductCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["category_id", 1], ["created_at", "2023-10-23 10:31:14.017751"], ["updated_at", "2023-10-23 10:31:14.017751"]]
  ↳ app/controllers/api/v1/products_controller.rb:75:in `create_product_categories'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:75:in `create_product_categories'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.81ms)
Completed 201 Created in 166ms (Views: 3.7ms | ActiveRecord: 17.6ms | Allocations: 64162)


Started GET "/api/v1/products" for ::1 at 2023-10-23 13:31:19 +0300
Processing by Api::V1::ProductsController#index as */*
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.69ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.2ms | Allocations: 1369)


Started DELETE "/api/v1/products/1" for ::1 at 2023-10-23 13:31:28 +0300
Processing by Api::V1::ProductsController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:54:in `set_product'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:42:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:44:in `destroy'
  [1m[36mProductCategory Load (0.3ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:44:in `destroy'
  [1m[36mProductCategory Destroy (0.3ms)[0m  [1m[31mDELETE FROM "product_categories" WHERE "product_categories"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:44:in `destroy'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:44:in `destroy'
  [1m[36mProduct Destroy (0.6ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:44:in `destroy'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:44:in `destroy'
Completed 500 Internal Server Error in 138ms (ActiveRecord: 2.1ms | Allocations: 8530)


  
ActiveRecord::InvalidForeignKey (SQLite3::ConstraintException: FOREIGN KEY constraint failed):
  
app/controllers/api/v1/products_controller.rb:44:in `destroy'
Started DELETE "/api/v1/products/1" for ::1 at 2023-10-23 13:32:45 +0300
Processing by Api::V1::ProductsController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:55:in `set_product'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:42:in `destroy'
  [1m[36mProductCategory Load (0.2ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:43:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:43:in `destroy'
  [1m[36mProductCategory Destroy (0.3ms)[0m  [1m[31mDELETE FROM "product_categories" WHERE "product_categories"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:43:in `destroy'
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:43:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:45:in `destroy'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:45:in `destroy'
  [1m[36mProduct Destroy (0.5ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:45:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:45:in `destroy'
Completed 500 Internal Server Error in 71ms (ActiveRecord: 14.3ms | Allocations: 24653)


  
ActiveRecord::InvalidForeignKey (SQLite3::ConstraintException: FOREIGN KEY constraint failed):
  
app/controllers/api/v1/products_controller.rb:45:in `destroy'
Started GET "/api/v1/products" for ::1 at 2023-10-23 13:33:07 +0300
Processing by Api::V1::ProductsController#index as */*
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.54ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.2ms | Allocations: 1307)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started DELETE "/api/v1/products/1" for ::1 at 2023-10-23 13:37:08 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ProductsController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:55:in `set_product'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:42:in `destroy'
  [1m[36mProductCategory Load (0.2ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:43:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:45:in `destroy'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:45:in `destroy'
  [1m[36mProduct Destroy (0.7ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:45:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:45:in `destroy'
Completed 500 Internal Server Error in 128ms (ActiveRecord: 4.7ms | Allocations: 79433)


  
ActiveRecord::InvalidForeignKey (SQLite3::ConstraintException: FOREIGN KEY constraint failed):
  
app/controllers/api/v1/products_controller.rb:45:in `destroy'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started DELETE "/api/v1/products/1" for ::1 at 2023-10-23 14:20:01 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ProductsController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:55:in `set_product'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 38ms (Views: 1.9ms | ActiveRecord: 0.7ms | Allocations: 23885)


Started POST "/api/v1/login" for ::1 at 2023-10-23 14:20:14 +0300
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"admin@admin.com", "password"=>"[FILTERED]", "user"=>{"email"=>"admin@admin.com"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:16:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 435ms (Views: 0.7ms | ActiveRecord: 1.1ms | Allocations: 36940)


Started DELETE "/api/v1/products/1" for ::1 at 2023-10-23 14:20:32 +0300
Processing by Api::V1::ProductsController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:55:in `set_product'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:42:in `destroy'
  [1m[36mProductCategory Load (0.3ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:43:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:45:in `destroy'
  [1m[36mProduct Destroy (0.8ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:45:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/api/v1/products_controller.rb:45:in `destroy'
Completed 500 Internal Server Error in 50ms (ActiveRecord: 2.4ms | Allocations: 13183)


  
ActiveRecord::InvalidForeignKey (SQLite3::ConstraintException: FOREIGN KEY constraint failed):
  
app/controllers/api/v1/products_controller.rb:45:in `destroy'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Admin"], ["last_name", "User"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 11:27:14.699834"], ["updated_at", "2023-10-23 11:27:14.699834"], ["role", "admin"]]
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user1@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "User"], ["last_name", "1"], ["email", "user1@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 11:27:14.968872"], ["updated_at", "2023-10-23 11:27:14.968872"], ["role", "user"]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user2@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "User"], ["last_name", "2"], ["email", "user2@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 11:27:15.225620"], ["updated_at", "2023-10-23 11:27:15.225620"], ["role", "user"]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user3@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "User"], ["last_name", "3"], ["email", "user3@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 11:27:15.487874"], ["updated_at", "2023-10-23 11:27:15.487874"], ["role", "user"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Keyboards"], ["created_at", "2023-10-23 11:27:15.515741"], ["updated_at", "2023-10-23 11:27:15.515741"]]
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Mice"], ["created_at", "2023-10-23 11:27:15.526256"], ["updated_at", "2023-10-23 11:27:15.526256"]]
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Monitors"], ["created_at", "2023-10-23 11:27:15.536360"], ["updated_at", "2023-10-23 11:27:15.536360"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Cables"], ["created_at", "2023-10-23 11:27:15.549357"], ["updated_at", "2023-10-23 11:27:15.549357"]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Headsets"], ["created_at", "2023-10-23 11:27:15.567828"], ["updated_at", "2023-10-23 11:27:15.567828"]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user1@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user2@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user3@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Keyboards"], ["created_at", "2023-10-23 11:28:18.299306"], ["updated_at", "2023-10-23 11:28:18.299306"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories"[0m
  [1m[35m (10.4ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "product_categories"[0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE TABLE "product_categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_category_id" ON "product_categories" ("category_id")[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_product_id" ON "product_categories" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "product_inventories"[0m
  [1m[35m (9.1ms)[0m  [1m[35mCREATE TABLE "product_inventories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "stock_quantity" integer, "restock_alert_threshold" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_product_inventories_on_product_id" ON "product_inventories" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "price" decimal, "barcode" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_barcode" ON "products" ("barcode")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "role" varchar)[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproduct_categories" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "tindex_aproduct_categories_on_product_id" ON "aproduct_categories" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "tindex_aproduct_categories_on_category_id" ON "aproduct_categories" ("category_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aproduct_categories" ("id","product_id","category_id","created_at","updated_at")
                     SELECT "id","product_id","category_id","created_at","updated_at" FROM "product_categories"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "product_categories"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "product_categories" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_005b71ca83"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_category_id" ON "product_categories" ("category_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_product_id" ON "product_categories" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "product_categories" ("id","product_id","category_id","created_at","updated_at")
                     SELECT "id","product_id","category_id","created_at","updated_at" FROM "aproduct_categories"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aproduct_categories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproduct_categories" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aproduct_categories_on_product_id" ON "aproduct_categories" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aproduct_categories_on_category_id" ON "aproduct_categories" ("category_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aproduct_categories" ("id","product_id","category_id","created_at","updated_at")
                     SELECT "id","product_id","category_id","created_at","updated_at" FROM "product_categories"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "product_categories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "product_categories" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_005b71ca83"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
, CONSTRAINT "fk_rails_98a9a32a41"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_category_id" ON "product_categories" ("category_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_product_id" ON "product_categories" ("product_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "product_categories" ("id","product_id","category_id","created_at","updated_at")
                     SELECT "id","product_id","category_id","created_at","updated_at" FROM "aproduct_categories"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aproduct_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproduct_inventories" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "stock_quantity" integer DEFAULT NULL, "restock_alert_threshold" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aproduct_inventories_on_product_id" ON "aproduct_inventories" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aproduct_inventories" ("id","product_id","stock_quantity","restock_alert_threshold","created_at","updated_at")
                     SELECT "id","product_id","stock_quantity","restock_alert_threshold","created_at","updated_at" FROM "product_inventories"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "product_inventories"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "product_inventories" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "stock_quantity" integer DEFAULT NULL, "restock_alert_threshold" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_889dd5a582"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_inventories_on_product_id" ON "product_inventories" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "product_inventories" ("id","product_id","stock_quantity","restock_alert_threshold","created_at","updated_at")
                     SELECT "id","product_id","stock_quantity","restock_alert_threshold","created_at","updated_at" FROM "aproduct_inventories"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aproduct_inventories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (7.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231023075600)[0m
  [1m[35m (8.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231019094854),
(20231019100809),
(20231019100836),
(20231019100849),
(20231019100907);

[0m
  [1m[35m (11.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-23 11:29:10.796152"], ["updated_at", "2023-10-23 11:29:10.796152"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "3d8f9103c3abd29f17a8ce246fc26890274464f3"], ["created_at", "2023-10-23 11:29:10.823161"], ["updated_at", "2023-10-23 11:29:10.823161"]]
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories"[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "product_categories"[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE TABLE "product_categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (11.2ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_category_id" ON "product_categories" ("category_id")[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_product_id" ON "product_categories" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "product_inventories"[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE TABLE "product_inventories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "stock_quantity" integer, "restock_alert_threshold" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE INDEX "index_product_inventories_on_product_id" ON "product_inventories" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "price" decimal, "barcode" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_barcode" ON "products" ("barcode")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "role" varchar)[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproduct_categories" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aproduct_categories_on_product_id" ON "aproduct_categories" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aproduct_categories_on_category_id" ON "aproduct_categories" ("category_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aproduct_categories" ("id","product_id","category_id","created_at","updated_at")
                     SELECT "id","product_id","category_id","created_at","updated_at" FROM "product_categories"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "product_categories"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "product_categories" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_005b71ca83"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_category_id" ON "product_categories" ("category_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_product_id" ON "product_categories" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "product_categories" ("id","product_id","category_id","created_at","updated_at")
                     SELECT "id","product_id","category_id","created_at","updated_at" FROM "aproduct_categories"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aproduct_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproduct_categories" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aproduct_categories_on_product_id" ON "aproduct_categories" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aproduct_categories_on_category_id" ON "aproduct_categories" ("category_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aproduct_categories" ("id","product_id","category_id","created_at","updated_at")
                     SELECT "id","product_id","category_id","created_at","updated_at" FROM "product_categories"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "product_categories"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "product_categories" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_005b71ca83"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
, CONSTRAINT "fk_rails_98a9a32a41"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_category_id" ON "product_categories" ("category_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_product_id" ON "product_categories" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "product_categories" ("id","product_id","category_id","created_at","updated_at")
                     SELECT "id","product_id","category_id","created_at","updated_at" FROM "aproduct_categories"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aproduct_categories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproduct_inventories" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "stock_quantity" integer DEFAULT NULL, "restock_alert_threshold" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aproduct_inventories_on_product_id" ON "aproduct_inventories" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aproduct_inventories" ("id","product_id","stock_quantity","restock_alert_threshold","created_at","updated_at")
                     SELECT "id","product_id","stock_quantity","restock_alert_threshold","created_at","updated_at" FROM "product_inventories"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "product_inventories"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "product_inventories" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "stock_quantity" integer DEFAULT NULL, "restock_alert_threshold" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_889dd5a582"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_product_inventories_on_product_id" ON "product_inventories" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "product_inventories" ("id","product_id","stock_quantity","restock_alert_threshold","created_at","updated_at")
                     SELECT "id","product_id","stock_quantity","restock_alert_threshold","created_at","updated_at" FROM "aproduct_inventories"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aproduct_inventories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (26.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (7.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231023075600)[0m
  [1m[35m (7.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20231019094854),
(20231019100809),
(20231019100836),
(20231019100849),
(20231019100907);

[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-23 11:29:11.174606"], ["updated_at", "2023-10-23 11:29:11.174606"]]
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-10-23 11:29:11.195907"], ["key", "environment"]]
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "3d8f9103c3abd29f17a8ce246fc26890274464f3"], ["created_at", "2023-10-23 11:29:11.215356"], ["updated_at", "2023-10-23 11:29:11.215356"]]
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Admin"], ["last_name", "User"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 11:29:11.556448"], ["updated_at", "2023-10-23 11:29:11.556448"], ["role", "admin"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user1@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "User"], ["last_name", "1"], ["email", "user1@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 11:29:11.904694"], ["updated_at", "2023-10-23 11:29:11.904694"], ["role", "user"]]
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user2@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "User"], ["last_name", "2"], ["email", "user2@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 11:29:12.260528"], ["updated_at", "2023-10-23 11:29:12.260528"], ["role", "user"]]
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user3@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "User"], ["last_name", "3"], ["email", "user3@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 11:29:12.561145"], ["updated_at", "2023-10-23 11:29:12.561145"], ["role", "user"]]
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Keyboards"], ["created_at", "2023-10-23 11:29:12.583434"], ["updated_at", "2023-10-23 11:29:12.583434"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Mice"], ["created_at", "2023-10-23 11:29:12.595808"], ["updated_at", "2023-10-23 11:29:12.595808"]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Monitors"], ["created_at", "2023-10-23 11:29:12.612142"], ["updated_at", "2023-10-23 11:29:12.612142"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Cables"], ["created_at", "2023-10-23 11:29:12.626883"], ["updated_at", "2023-10-23 11:29:12.626883"]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Headsets"], ["created_at", "2023-10-23 11:29:12.647983"], ["updated_at", "2023-10-23 11:29:12.647983"]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Synergistic Wool Watch"], ["description", "Numquam accusamus consequatur. Aut qui fuga. Quia molestiae delectus."], ["price", 491.72], ["barcode", "88863863"], ["created_at", "2023-10-23 11:29:13.832920"], ["updated_at", "2023-10-23 11:29:13.832920"]]
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["category_id", 4], ["created_at", "2023-10-23 11:29:13.881039"], ["updated_at", "2023-10-23 11:29:13.881039"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 1], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:13.905447"], ["updated_at", "2023-10-23 11:29:13.905447"]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Ergonomic Wool Bag"], ["description", "Illum molestiae molestiae. Consequuntur eos atque. Fuga quis atque."], ["price", 152.12], ["barcode", "32090536"], ["created_at", "2023-10-23 11:29:13.924530"], ["updated_at", "2023-10-23 11:29:13.924530"]]
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.8ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["category_id", 3], ["created_at", "2023-10-23 11:29:13.946243"], ["updated_at", "2023-10-23 11:29:13.946243"]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 2], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:13.964222"], ["updated_at", "2023-10-23 11:29:13.964222"]]
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Practical Granite Knife"], ["description", "Dolor nemo et. Sit error odit. Magnam qui voluptates."], ["price", 183.91], ["barcode", "18511222"], ["created_at", "2023-10-23 11:29:13.978039"], ["updated_at", "2023-10-23 11:29:13.978039"]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 3], ["category_id", 1], ["created_at", "2023-10-23 11:29:13.991917"], ["updated_at", "2023-10-23 11:29:13.991917"]]
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 3], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:14.006369"], ["updated_at", "2023-10-23 11:29:14.006369"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Heavy Duty Paper Bench"], ["description", "Esse est animi. Repellat harum officiis. Natus hic velit."], ["price", 411.66], ["barcode", "14628948"], ["created_at", "2023-10-23 11:29:14.023565"], ["updated_at", "2023-10-23 11:29:14.023565"]]
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["category_id", 5], ["created_at", "2023-10-23 11:29:14.039778"], ["updated_at", "2023-10-23 11:29:14.039778"]]
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 4], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:14.054992"], ["updated_at", "2023-10-23 11:29:14.054992"]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Rustic Rubber Lamp"], ["description", "Facere voluptatem ab. A et enim. Maiores praesentium fugiat."], ["price", 405.5], ["barcode", "72891322"], ["created_at", "2023-10-23 11:29:14.075906"], ["updated_at", "2023-10-23 11:29:14.075906"]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["category_id", 3], ["created_at", "2023-10-23 11:29:14.098365"], ["updated_at", "2023-10-23 11:29:14.098365"]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 5], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:14.122228"], ["updated_at", "2023-10-23 11:29:14.122228"]]
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Aerodynamic Leather Plate"], ["description", "Officiis voluptas nihil. Modi ut facere. Et voluptatum ducimus."], ["price", 95.73], ["barcode", "61403031"], ["created_at", "2023-10-23 11:29:14.134275"], ["updated_at", "2023-10-23 11:29:14.134275"]]
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["category_id", 1], ["created_at", "2023-10-23 11:29:14.147875"], ["updated_at", "2023-10-23 11:29:14.147875"]]
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 6], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:14.160240"], ["updated_at", "2023-10-23 11:29:14.160240"]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Enormous Granite Clock"], ["description", "Et vitae dignissimos. Et non recusandae. Officia blanditiis quia."], ["price", 16.36], ["barcode", "93494823"], ["created_at", "2023-10-23 11:29:14.181562"], ["updated_at", "2023-10-23 11:29:14.181562"]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 7], ["category_id", 2], ["created_at", "2023-10-23 11:29:14.202846"], ["updated_at", "2023-10-23 11:29:14.202846"]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 7], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:14.221739"], ["updated_at", "2023-10-23 11:29:14.221739"]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Intelligent Iron Shirt"], ["description", "Similique facilis vel. Illum vero quia. Modi qui dolor."], ["price", 274.14], ["barcode", "51266837"], ["created_at", "2023-10-23 11:29:14.238411"], ["updated_at", "2023-10-23 11:29:14.238411"]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.8ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 8], ["category_id", 1], ["created_at", "2023-10-23 11:29:14.257719"], ["updated_at", "2023-10-23 11:29:14.257719"]]
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 8], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:14.301149"], ["updated_at", "2023-10-23 11:29:14.301149"]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Synergistic Granite Lamp"], ["description", "Et dolorem cum. Rerum occaecati aliquid. Voluptas magnam doloribus."], ["price", 248.34], ["barcode", "95211589"], ["created_at", "2023-10-23 11:29:14.316356"], ["updated_at", "2023-10-23 11:29:14.316356"]]
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 9], ["category_id", 5], ["created_at", "2023-10-23 11:29:14.330074"], ["updated_at", "2023-10-23 11:29:14.330074"]]
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 9], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:14.344030"], ["updated_at", "2023-10-23 11:29:14.344030"]]
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Durable Plastic Keyboard"], ["description", "Voluptas quod sit. Reprehenderit cumque ipsa. In reprehenderit ea."], ["price", 400.45], ["barcode", "54085886"], ["created_at", "2023-10-23 11:29:14.355845"], ["updated_at", "2023-10-23 11:29:14.355845"]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 10], ["category_id", 2], ["created_at", "2023-10-23 11:29:14.371991"], ["updated_at", "2023-10-23 11:29:14.371991"]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.9ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 10], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:14.390730"], ["updated_at", "2023-10-23 11:29:14.390730"]]
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Rustic Leather Bench"], ["description", "Et vitae nemo. Illum odio libero. Cumque alias odio."], ["price", 149.62], ["barcode", "46107534"], ["created_at", "2023-10-23 11:29:14.412881"], ["updated_at", "2023-10-23 11:29:14.412881"]]
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 11], ["category_id", 1], ["created_at", "2023-10-23 11:29:14.426156"], ["updated_at", "2023-10-23 11:29:14.426156"]]
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 11], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:14.437536"], ["updated_at", "2023-10-23 11:29:14.437536"]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Enormous Wooden Hat"], ["description", "Magni quia ad. Facilis recusandae ex. Aut ut dolores."], ["price", 176.4], ["barcode", "37604097"], ["created_at", "2023-10-23 11:29:14.452075"], ["updated_at", "2023-10-23 11:29:14.452075"]]
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 12], ["category_id", 2], ["created_at", "2023-10-23 11:29:14.467224"], ["updated_at", "2023-10-23 11:29:14.467224"]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (1.2ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 12], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:14.486433"], ["updated_at", "2023-10-23 11:29:14.486433"]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Small Wooden Lamp"], ["description", "Libero aut veritatis. Veritatis repudiandae consequatur. In accusantium quia."], ["price", 281.84], ["barcode", "61309432"], ["created_at", "2023-10-23 11:29:14.509491"], ["updated_at", "2023-10-23 11:29:14.509491"]]
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 13], ["category_id", 1], ["created_at", "2023-10-23 11:29:14.526588"], ["updated_at", "2023-10-23 11:29:14.526588"]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.6ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 13], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:14.542240"], ["updated_at", "2023-10-23 11:29:14.542240"]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Enormous Rubber Clock"], ["description", "Et minus quia. Laudantium et enim. Sit et beatae."], ["price", 249.06], ["barcode", "73683032"], ["created_at", "2023-10-23 11:29:14.561852"], ["updated_at", "2023-10-23 11:29:14.561852"]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 14], ["category_id", 4], ["created_at", "2023-10-23 11:29:14.582909"], ["updated_at", "2023-10-23 11:29:14.582909"]]
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.6ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 14], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:14.599473"], ["updated_at", "2023-10-23 11:29:14.599473"]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Small Iron Watch"], ["description", "Et id delectus. Recusandae rerum voluptatem. Quia laudantium perspiciatis."], ["price", 86.47], ["barcode", "53568441"], ["created_at", "2023-10-23 11:29:14.621267"], ["updated_at", "2023-10-23 11:29:14.621267"]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 15], ["category_id", 1], ["created_at", "2023-10-23 11:29:14.643650"], ["updated_at", "2023-10-23 11:29:14.643650"]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.6ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 15], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:14.661683"], ["updated_at", "2023-10-23 11:29:14.661683"]]
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Gorgeous Iron Coat"], ["description", "Voluptates sed quidem. Architecto numquam asperiores. Assumenda repudiandae quasi."], ["price", 360.0], ["barcode", "75785475"], ["created_at", "2023-10-23 11:29:14.677968"], ["updated_at", "2023-10-23 11:29:14.677968"]]
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 16], ["category_id", 2], ["created_at", "2023-10-23 11:29:14.692423"], ["updated_at", "2023-10-23 11:29:14.692423"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 16], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:14.705192"], ["updated_at", "2023-10-23 11:29:14.705192"]]
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Incredible Concrete Lamp"], ["description", "Est natus aliquam. Saepe aut exercitationem. Occaecati non dolorum."], ["price", 277.22], ["barcode", "82711993"], ["created_at", "2023-10-23 11:29:14.718654"], ["updated_at", "2023-10-23 11:29:14.718654"]]
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 17], ["category_id", 2], ["created_at", "2023-10-23 11:29:14.732921"], ["updated_at", "2023-10-23 11:29:14.732921"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 17], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:14.745796"], ["updated_at", "2023-10-23 11:29:14.745796"]]
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Ergonomic Iron Gloves"], ["description", "Sed soluta voluptate. Et expedita debitis. Maxime et placeat."], ["price", 74.75], ["barcode", "91958013"], ["created_at", "2023-10-23 11:29:14.761766"], ["updated_at", "2023-10-23 11:29:14.761766"]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 18], ["category_id", 5], ["created_at", "2023-10-23 11:29:14.786160"], ["updated_at", "2023-10-23 11:29:14.786160"]]
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.6ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 18], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:14.804915"], ["updated_at", "2023-10-23 11:29:14.804915"]]
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Fantastic Steel Plate"], ["description", "Id reprehenderit exercitationem. Aspernatur modi sunt. Ullam autem nihil."], ["price", 480.41], ["barcode", "91148803"], ["created_at", "2023-10-23 11:29:14.822607"], ["updated_at", "2023-10-23 11:29:14.822607"]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 19], ["category_id", 2], ["created_at", "2023-10-23 11:29:14.839060"], ["updated_at", "2023-10-23 11:29:14.839060"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 19], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:14.853575"], ["updated_at", "2023-10-23 11:29:14.853575"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Aerodynamic Granite Gloves"], ["description", "Asperiores tenetur tempora. Aut voluptatibus fugiat. Quod molestiae accusamus."], ["price", 157.9], ["barcode", "57274195"], ["created_at", "2023-10-23 11:29:14.868704"], ["updated_at", "2023-10-23 11:29:14.868704"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 20], ["category_id", 5], ["created_at", "2023-10-23 11:29:14.884804"], ["updated_at", "2023-10-23 11:29:14.884804"]]
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 20], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:14.899419"], ["updated_at", "2023-10-23 11:29:14.899419"]]
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user1@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user2@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user3@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Keyboards"], ["created_at", "2023-10-23 11:29:20.365050"], ["updated_at", "2023-10-23 11:29:20.365050"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20231019094854)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019094854"]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20231019100809)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "price" decimal, "barcode" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_barcode" ON "products" ("barcode")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100809"]]
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductInventories (20231019100836)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "product_inventories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "stock_quantity" integer, "restock_alert_threshold" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_889dd5a582"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_product_inventories_on_product_id" ON "product_inventories" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100836"]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20231019100849)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100849"]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductCategories (20231019100907)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "product_categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_98a9a32a41"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_005b71ca83"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_product_id" ON "product_categories" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_category_id" ON "product_categories" ("category_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100907"]]
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddRoleToUsers (20231023075600)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "role" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231023075600"]]
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-23 11:29:41.446152"], ["updated_at", "2023-10-23 11:29:41.446152"]]
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Admin"], ["last_name", "User"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 11:29:48.543917"], ["updated_at", "2023-10-23 11:29:48.543917"], ["role", "admin"]]
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user1@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "User"], ["last_name", "1"], ["email", "user1@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 11:29:48.811548"], ["updated_at", "2023-10-23 11:29:48.811548"], ["role", "user"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user2@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "User"], ["last_name", "2"], ["email", "user2@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 11:29:49.104039"], ["updated_at", "2023-10-23 11:29:49.104039"], ["role", "user"]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user3@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "User"], ["last_name", "3"], ["email", "user3@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 11:29:49.361494"], ["updated_at", "2023-10-23 11:29:49.361494"], ["role", "user"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Keyboards"], ["created_at", "2023-10-23 11:29:49.384168"], ["updated_at", "2023-10-23 11:29:49.384168"]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Mice"], ["created_at", "2023-10-23 11:29:49.398749"], ["updated_at", "2023-10-23 11:29:49.398749"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Monitors"], ["created_at", "2023-10-23 11:29:49.414601"], ["updated_at", "2023-10-23 11:29:49.414601"]]
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.8ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Cables"], ["created_at", "2023-10-23 11:29:49.430781"], ["updated_at", "2023-10-23 11:29:49.430781"]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.8ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Headsets"], ["created_at", "2023-10-23 11:29:49.450228"], ["updated_at", "2023-10-23 11:29:49.450228"]]
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Gorgeous Aluminum Clock"], ["description", "Qui similique doloremque. Nobis aperiam voluptatem. Illo id hic."], ["price", 243.87], ["barcode", "88041179"], ["created_at", "2023-10-23 11:29:50.676498"], ["updated_at", "2023-10-23 11:29:50.676498"]]
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["category_id", 2], ["created_at", "2023-10-23 11:29:50.734905"], ["updated_at", "2023-10-23 11:29:50.734905"]]
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 1], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:50.774012"], ["updated_at", "2023-10-23 11:29:50.774012"]]
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Synergistic Granite Wallet"], ["description", "Ipsum cumque dignissimos. Voluptas qui dolorum. Ut voluptas consequatur."], ["price", 122.99], ["barcode", "92236325"], ["created_at", "2023-10-23 11:29:50.787723"], ["updated_at", "2023-10-23 11:29:50.787723"]]
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["category_id", 4], ["created_at", "2023-10-23 11:29:50.803480"], ["updated_at", "2023-10-23 11:29:50.803480"]]
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.6ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 2], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:50.820541"], ["updated_at", "2023-10-23 11:29:50.820541"]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Gorgeous Steel Hat"], ["description", "Earum facere esse. Possimus voluptatum hic. Amet qui facere."], ["price", 399.19], ["barcode", "21064364"], ["created_at", "2023-10-23 11:29:50.840992"], ["updated_at", "2023-10-23 11:29:50.840992"]]
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 3], ["category_id", 2], ["created_at", "2023-10-23 11:29:50.860221"], ["updated_at", "2023-10-23 11:29:50.860221"]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 3], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:50.876581"], ["updated_at", "2023-10-23 11:29:50.876581"]]
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Small Paper Bag"], ["description", "Voluptatem quas tempore. Quo veniam fugit. Explicabo quos corporis."], ["price", 468.62], ["barcode", "71888668"], ["created_at", "2023-10-23 11:29:50.893678"], ["updated_at", "2023-10-23 11:29:50.893678"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["category_id", 5], ["created_at", "2023-10-23 11:29:50.910576"], ["updated_at", "2023-10-23 11:29:50.910576"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 4], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:50.924775"], ["updated_at", "2023-10-23 11:29:50.924775"]]
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Durable Paper Bag"], ["description", "Repudiandae similique dolorem. Asperiores facere ut. Rem quia veritatis."], ["price", 226.32], ["barcode", "40259536"], ["created_at", "2023-10-23 11:29:50.938542"], ["updated_at", "2023-10-23 11:29:50.938542"]]
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["category_id", 3], ["created_at", "2023-10-23 11:29:50.955092"], ["updated_at", "2023-10-23 11:29:50.955092"]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 5], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:50.972660"], ["updated_at", "2023-10-23 11:29:50.972660"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Heavy Duty Paper Shoes"], ["description", "Eos tempore perferendis. Amet eligendi vitae. Sit repellat a."], ["price", 169.53], ["barcode", "19321387"], ["created_at", "2023-10-23 11:29:50.988116"], ["updated_at", "2023-10-23 11:29:50.988116"]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["category_id", 2], ["created_at", "2023-10-23 11:29:51.005070"], ["updated_at", "2023-10-23 11:29:51.005070"]]
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 6], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:51.017609"], ["updated_at", "2023-10-23 11:29:51.017609"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Durable Linen Bag"], ["description", "Et exercitationem aspernatur. Nisi quidem debitis. Voluptatem voluptas tempore."], ["price", 69.25], ["barcode", "48453189"], ["created_at", "2023-10-23 11:29:51.033823"], ["updated_at", "2023-10-23 11:29:51.033823"]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 7], ["category_id", 5], ["created_at", "2023-10-23 11:29:51.058832"], ["updated_at", "2023-10-23 11:29:51.058832"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 7], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:51.074183"], ["updated_at", "2023-10-23 11:29:51.074183"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Awesome Rubber Hat"], ["description", "Optio dignissimos autem. Excepturi porro qui. Recusandae voluptate iusto."], ["price", 211.14], ["barcode", "92006355"], ["created_at", "2023-10-23 11:29:51.089260"], ["updated_at", "2023-10-23 11:29:51.089260"]]
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 8], ["category_id", 3], ["created_at", "2023-10-23 11:29:51.105416"], ["updated_at", "2023-10-23 11:29:51.105416"]]
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 8], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:51.119849"], ["updated_at", "2023-10-23 11:29:51.119849"]]
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Practical Wool Table"], ["description", "Vel aut accusantium. Dolorem hic enim. Illum sit occaecati."], ["price", 160.5], ["barcode", "77399854"], ["created_at", "2023-10-23 11:29:51.135156"], ["updated_at", "2023-10-23 11:29:51.135156"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 9], ["category_id", 5], ["created_at", "2023-10-23 11:29:51.151048"], ["updated_at", "2023-10-23 11:29:51.151048"]]
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 9], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:51.168063"], ["updated_at", "2023-10-23 11:29:51.168063"]]
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Ergonomic Rubber Bag"], ["description", "Impedit ut voluptatibus. Labore nemo est. Maiores aperiam distinctio."], ["price", 145.95], ["barcode", "40274881"], ["created_at", "2023-10-23 11:29:51.183277"], ["updated_at", "2023-10-23 11:29:51.183277"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 10], ["category_id", 2], ["created_at", "2023-10-23 11:29:51.200100"], ["updated_at", "2023-10-23 11:29:51.200100"]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 10], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:51.219790"], ["updated_at", "2023-10-23 11:29:51.219790"]]
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Heavy Duty Cotton Shirt"], ["description", "Ad ea omnis. Adipisci veniam veritatis. Veritatis incidunt nulla."], ["price", 499.84], ["barcode", "11136965"], ["created_at", "2023-10-23 11:29:51.234617"], ["updated_at", "2023-10-23 11:29:51.234617"]]
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 11], ["category_id", 4], ["created_at", "2023-10-23 11:29:51.251124"], ["updated_at", "2023-10-23 11:29:51.251124"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 11], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:51.266006"], ["updated_at", "2023-10-23 11:29:51.266006"]]
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Small Silk Bag"], ["description", "Velit quae quia. Est tempore deleniti. Deserunt similique nulla."], ["price", 216.18], ["barcode", "21409585"], ["created_at", "2023-10-23 11:29:51.295918"], ["updated_at", "2023-10-23 11:29:51.295918"]]
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 12], ["category_id", 2], ["created_at", "2023-10-23 11:29:51.307808"], ["updated_at", "2023-10-23 11:29:51.307808"]]
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 12], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:51.318283"], ["updated_at", "2023-10-23 11:29:51.318283"]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Sleek Wooden Clock"], ["description", "Voluptatem impedit beatae. Qui et ut. Nulla temporibus et."], ["price", 402.49], ["barcode", "68533014"], ["created_at", "2023-10-23 11:29:51.331885"], ["updated_at", "2023-10-23 11:29:51.331885"]]
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 13], ["category_id", 4], ["created_at", "2023-10-23 11:29:51.343434"], ["updated_at", "2023-10-23 11:29:51.343434"]]
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 13], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:51.356800"], ["updated_at", "2023-10-23 11:29:51.356800"]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Awesome Leather Computer"], ["description", "Dolor consequatur est. Nesciunt ab dolorem. Commodi atque doloremque."], ["price", 70.52], ["barcode", "92235854"], ["created_at", "2023-10-23 11:29:51.376613"], ["updated_at", "2023-10-23 11:29:51.376613"]]
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 14], ["category_id", 4], ["created_at", "2023-10-23 11:29:51.397874"], ["updated_at", "2023-10-23 11:29:51.397874"]]
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 14], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:51.413972"], ["updated_at", "2023-10-23 11:29:51.413972"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Practical Wool Computer"], ["description", "Soluta reiciendis itaque. Id cum odio. Quam provident consequatur."], ["price", 286.43], ["barcode", "88009711"], ["created_at", "2023-10-23 11:29:51.429501"], ["updated_at", "2023-10-23 11:29:51.429501"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 15], ["category_id", 5], ["created_at", "2023-10-23 11:29:51.446238"], ["updated_at", "2023-10-23 11:29:51.446238"]]
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 15], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:51.459509"], ["updated_at", "2023-10-23 11:29:51.459509"]]
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Fantastic Aluminum Keyboard"], ["description", "At voluptatem nisi. Voluptas vero aut. Exercitationem voluptas commodi."], ["price", 210.64], ["barcode", "49849417"], ["created_at", "2023-10-23 11:29:51.471867"], ["updated_at", "2023-10-23 11:29:51.471867"]]
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 16], ["category_id", 3], ["created_at", "2023-10-23 11:29:51.484947"], ["updated_at", "2023-10-23 11:29:51.484947"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 16], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:51.497490"], ["updated_at", "2023-10-23 11:29:51.497490"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Awesome Concrete Gloves"], ["description", "Maiores ut vel. Praesentium aut et. Commodi et corporis."], ["price", 42.48], ["barcode", "29722082"], ["created_at", "2023-10-23 11:29:51.512943"], ["updated_at", "2023-10-23 11:29:51.512943"]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (1.0ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 17], ["category_id", 4], ["created_at", "2023-10-23 11:29:51.533694"], ["updated_at", "2023-10-23 11:29:51.533694"]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 17], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:51.551212"], ["updated_at", "2023-10-23 11:29:51.551212"]]
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Synergistic Copper Pants"], ["description", "Voluptatem quis accusantium. Et cupiditate nihil. Est aut ullam."], ["price", 81.58], ["barcode", "69049767"], ["created_at", "2023-10-23 11:29:51.568071"], ["updated_at", "2023-10-23 11:29:51.568071"]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.8ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 18], ["category_id", 2], ["created_at", "2023-10-23 11:29:51.588772"], ["updated_at", "2023-10-23 11:29:51.588772"]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 18], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:51.606318"], ["updated_at", "2023-10-23 11:29:51.606318"]]
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Ergonomic Iron Shirt"], ["description", "Voluptatem nisi pariatur. Itaque sunt laudantium. Id quo maiores."], ["price", 91.56], ["barcode", "20585419"], ["created_at", "2023-10-23 11:29:51.621344"], ["updated_at", "2023-10-23 11:29:51.621344"]]
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 19], ["category_id", 1], ["created_at", "2023-10-23 11:29:51.636753"], ["updated_at", "2023-10-23 11:29:51.636753"]]
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 19], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:51.651208"], ["updated_at", "2023-10-23 11:29:51.651208"]]
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Rustic Copper Gloves"], ["description", "Laboriosam nemo cum. Voluptatem perspiciatis esse. Soluta quaerat et."], ["price", 340.51], ["barcode", "73325093"], ["created_at", "2023-10-23 11:29:51.663482"], ["updated_at", "2023-10-23 11:29:51.663482"]]
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 20], ["category_id", 5], ["created_at", "2023-10-23 11:29:51.676557"], ["updated_at", "2023-10-23 11:29:51.676557"]]
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 20], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 11:29:51.687349"], ["updated_at", "2023-10-23 11:29:51.687349"]]
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
Started GET "/api/v1/products" for ::1 at 2023-10-23 14:30:16 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ProductsController#index as */*
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (3.66ms)
Completed 200 OK in 104ms (Views: 43.7ms | ActiveRecord: 0.9ms | Allocations: 48422)


Started GET "/api/v1/products/1" for ::1 at 2023-10-23 14:30:28 +0300
Processing by Api::V1::ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:55:in `set_product'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (0.69ms)
Completed 200 OK in 9ms (Views: 1.8ms | ActiveRecord: 0.3ms | Allocations: 1757)


Started GET "/api/v1/products/1" for ::1 at 2023-10-23 14:32:13 +0300
Processing by Api::V1::ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:55:in `set_product'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:14:in `show'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:14:in `show'
[active_model_serializers] Rendered ProductSerializer with ActiveModelSerializers::Adapter::Attributes (133.22ms)
Completed 200 OK in 164ms (Views: 147.8ms | ActiveRecord: 3.9ms | Allocations: 44183)


Started GET "/api/v1/products/" for ::1 at 2023-10-23 14:32:28 +0300
Processing by Api::V1::ProductsController#index as */*
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 4], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 5], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 6], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 7], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 7]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 8], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 8]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 9], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 9]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 10], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 10]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 11], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 11]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 12], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 12]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 13], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 13]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 14], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 14]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 15], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 15]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 16], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 16]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 17], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 17]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 18], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 18]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 19], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 19]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 20], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 20]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (131.09ms)
Completed 200 OK in 135ms (Views: 128.7ms | ActiveRecord: 6.0ms | Allocations: 49604)


Started GET "/api/v1/products/filter_by_category?category_id=1" for ::1 at 2023-10-23 14:38:45 +0300
Processing by Api::V1::ProductsController#filter_by_category as */*
  Parameters: {"category_id"=>"1"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:33:in `filter_by_category'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "product_categories" ON "products"."id" = "product_categories"."product_id" WHERE "product_categories"."category_id" = ?[0m  [["category_id", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 19], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 19]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (18.7ms)
Completed 200 OK in 50ms (Views: 26.2ms | ActiveRecord: 1.5ms | Allocations: 21406)


Started GET "/api/v1/products/filter_by_category?category_id=2" for ::1 at 2023-10-23 14:38:53 +0300
Processing by Api::V1::ProductsController#filter_by_category as */*
  Parameters: {"category_id"=>"2"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:33:in `filter_by_category'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "product_categories" ON "products"."id" = "product_categories"."product_id" WHERE "product_categories"."category_id" = ?[0m  [["category_id", 2]]
  ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 6], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 10], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 10]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 12], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 12]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 18], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 18]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (45.66ms)
Completed 200 OK in 51ms (Views: 47.2ms | ActiveRecord: 2.0ms | Allocations: 16005)


Started GET "/api/v1/products/filter_by_category?category_category_name=Electronics" for ::1 at 2023-10-23 14:41:11 +0300
Processing by Api::V1::ProductsController#filter_by_category as */*
  Parameters: {"category_category_name"=>"Electronics"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:33:in `filter_by_category'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 404 Not Found in 13ms (Views: 2.3ms | ActiveRecord: 1.2ms | Allocations: 4463)


Started GET "/api/v1/products/filter_by_category?category_category_name=mice" for ::1 at 2023-10-23 14:41:16 +0300
Processing by Api::V1::ProductsController#filter_by_category as */*
  Parameters: {"category_category_name"=>"mice"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:33:in `filter_by_category'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 404 Not Found in 2ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 741)


Started GET "/api/v1/products/filter_by_category?category_category_name=Mice" for ::1 at 2023-10-23 14:41:18 +0300
Processing by Api::V1::ProductsController#filter_by_category as */*
  Parameters: {"category_category_name"=>"Mice"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:33:in `filter_by_category'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 404 Not Found in 3ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 727)


Started GET "/api/v1/products/filter_by_category?category_name=Mice" for ::1 at 2023-10-23 14:41:33 +0300
Processing by Api::V1::ProductsController#filter_by_category as */*
  Parameters: {"category_name"=>"Mice"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Mice"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:33:in `filter_by_category'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "product_categories" ON "products"."id" = "product_categories"."product_id" WHERE "product_categories"."category_id" = ?[0m  [["category_id", 2]]
  ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 6], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 10], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 10]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 12], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 12]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 18], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 18]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (58.31ms)
Completed 200 OK in 107ms (Views: 71.5ms | ActiveRecord: 5.6ms | Allocations: 31457)


Started GET "/api/v1/products/filter_by_category?category_name=mice" for ::1 at 2023-10-23 14:41:39 +0300
Processing by Api::V1::ProductsController#filter_by_category as */*
  Parameters: {"category_name"=>"mice"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "mice"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:33:in `filter_by_category'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 404 Not Found in 3ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 602)


Started GET "/api/v1/products/filter_by_category?category_name=mice" for ::1 at 2023-10-23 14:42:59 +0300
Processing by Api::V1::ProductsController#filter_by_category as */*
  Parameters: {"category_name"=>"mice"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (lower(name) = 'mice') ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:34:in `filter_by_category'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "product_categories" ON "products"."id" = "product_categories"."product_id" WHERE "product_categories"."category_id" = ?[0m  [["category_id", 2]]
  ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.3ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 6], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 10], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 10]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 12], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 12]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 18], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 18]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (65.81ms)
Completed 200 OK in 99ms (Views: 73.5ms | ActiveRecord: 5.9ms | Allocations: 35047)


Started GET "/api/v1/products/filter_by_category?category_name=Mice" for ::1 at 2023-10-23 14:43:04 +0300
Processing by Api::V1::ProductsController#filter_by_category as */*
  Parameters: {"category_name"=>"Mice"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (lower(name) = 'mice') ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:34:in `filter_by_category'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "product_categories" ON "products"."id" = "product_categories"."product_id" WHERE "product_categories"."category_id" = ?[0m  [["category_id", 2]]
  ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 6], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 10], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 10]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 12], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 12]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 18], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 18]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (37.43ms)
Completed 200 OK in 43ms (Views: 38.6ms | ActiveRecord: 1.8ms | Allocations: 16147)


Started GET "/api/v1/products/filter_by_category?category_name=mice" for ::1 at 2023-10-23 14:43:16 +0300
Processing by Api::V1::ProductsController#filter_by_category as */*
  Parameters: {"category_name"=>"mice"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE (lower(name) = 'mice') ORDER BY "categories"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/products_controller.rb:34:in `filter_by_category'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "product_categories" ON "products"."id" = "product_categories"."product_id" WHERE "product_categories"."category_id" = ?[0m  [["category_id", 2]]
  ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 6], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 10], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 10]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 12], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 12]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 18], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 18]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:37:in `filter_by_category'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (44.64ms)
Completed 200 OK in 51ms (Views: 46.1ms | ActiveRecord: 2.2ms | Allocations: 16146)


Started GET "/api/v1/categories" for ::1 at 2023-10-23 14:43:26 +0300
Processing by Api::V1::CategoriesController#index as */*
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/api/v1/categories_controller.rb:10:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.38ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms | Allocations: 1508)


Started GET "/api/v1/products/filter_by_name?product_name=sam" for ::1 at 2023-10-23 14:51:56 +0300
Processing by Api::V1::ProductsController#filter_by_name as */*
  Parameters: {"product_name"=>"sam"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name ILIKE '%sam%')[0m
  ↳ app/controllers/api/v1/products_controller.rb:50:in `filter_by_name'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.6ms | Allocations: 4497)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: near "ILIKE": syntax error):
  
app/controllers/api/v1/products_controller.rb:50:in `filter_by_name'
Started GET "/api/v1/products/filter_by_name?product_name=sam" for ::1 at 2023-10-23 14:52:52 +0300
Processing by Api::V1::ProductsController#filter_by_name as */*
  Parameters: {"product_name"=>"sam"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (LOWER(name) LIKE '%sam%')[0m
  ↳ app/controllers/api/v1/products_controller.rb:50:in `filter_by_name'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 404 Not Found in 10ms (Views: 1.1ms | ActiveRecord: 0.6ms | Allocations: 4757)


Started GET "/api/v1/products/filter_by_name?product_name=k" for ::1 at 2023-10-23 14:52:59 +0300
Processing by Api::V1::ProductsController#filter_by_name as */*
  Parameters: {"product_name"=>"k"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (LOWER(name) LIKE '%k%')[0m
  ↳ app/controllers/api/v1/products_controller.rb:50:in `filter_by_name'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:51:in `filter_by_name'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:51:in `filter_by_name'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 12], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:51:in `filter_by_name'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 12]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:51:in `filter_by_name'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 13], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:51:in `filter_by_name'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 13]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:51:in `filter_by_name'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 16], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:51:in `filter_by_name'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 16]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:51:in `filter_by_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (63.8ms)
Completed 200 OK in 72ms (Views: 61.2ms | ActiveRecord: 4.6ms | Allocations: 24690)


Started GET "/api/v1/products/" for ::1 at 2023-10-23 14:53:47 +0300
Processing by Api::V1::ProductsController#index as */*
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 4], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 5], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 6], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 7], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 7]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 8], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 8]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 9], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 9]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 10], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 10]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 11], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 11]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 12], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 12]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 13], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 13]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 14], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 14]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 15], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 15]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 16], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 16]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 17], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 17]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 18], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 18]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 19], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 19]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 20], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 20]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (164.01ms)
Completed 200 OK in 167ms (Views: 160.5ms | ActiveRecord: 6.6ms | Allocations: 49629)


Started GET "/api/v1/products/filter_by_name?product_name=pap" for ::1 at 2023-10-23 14:54:11 +0300
Processing by Api::V1::ProductsController#filter_by_name as */*
  Parameters: {"product_name"=>"pap"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (LOWER(name) LIKE '%pap%')[0m
  ↳ app/controllers/api/v1/products_controller.rb:50:in `filter_by_name'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 4], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:51:in `filter_by_name'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:51:in `filter_by_name'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 5], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:51:in `filter_by_name'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:51:in `filter_by_name'
[active_model_serializers]   [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 6], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:51:in `filter_by_name'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:51:in `filter_by_name'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (26.52ms)
Completed 200 OK in 30ms (Views: 26.2ms | ActiveRecord: 1.5ms | Allocations: 7968)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateOrders (20231023120901)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "status" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_orders_on_user_id" ON "orders" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231023120901"]]
  [1m[36mTRANSACTION (13.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrderItems (20231023120930)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer NOT NULL, "product_id" integer NOT NULL, "quantity" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e3cb28f071"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_f1a29ddd47"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_order_items_on_order_id" ON "order_items" ("order_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_order_items_on_product_id" ON "order_items" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231023120930"]]
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/routes" for 127.0.0.1 at 2023-10-23 15:16:51 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/routes"):
  
Started GET "/api/v1/orders/checkout_history" for ::1 at 2023-10-23 15:18:31 +0300
  
ActionController::RoutingError (No route matches [GET] "/api/v1/orders/checkout_history"):
  
Started GET "/routes" for 127.0.0.1 at 2023-10-23 15:18:53 +0300
  
ActionController::RoutingError (No route matches [GET] "/routes"):
  
Started GET "/routes" for 127.0.0.1 at 2023-10-23 15:19:49 +0300
  
ActionController::RoutingError (No route matches [GET] "/routes"):
  
Started GET "/api/v1/orders/checkout_history" for ::1 at 2023-10-23 15:20:16 +0300
Processing by Api::V1::OrdersController#checkout_history as */*
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms | Allocations: 901)


Started POST "/api/v1/login" for ::1 at 2023-10-23 15:20:28 +0300
Processing by Api::V1::UsersController#login as */*
  Parameters: {"email"=>"admin@admin.com", "password"=>"[FILTERED]", "user"=>{"email"=>"admin@admin.com"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:16:in `login'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 401 Unauthorized in 8ms (Views: 1.3ms | ActiveRecord: 1.5ms | Allocations: 1876)


Started POST "/api/v1/register" for ::1 at 2023-10-23 15:20:51 +0300
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"phillip", "last_name"=>"Nzau", "email"=>"phillip@nzau.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "phillip"], ["last_name", "Nzau"], ["email", "phillip@nzau.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 12:20:52.193404"], ["updated_at", "2023-10-23 12:20:52.193404"], ["role", "user"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.29ms)
Completed 201 Created in 389ms (Views: 1.2ms | ActiveRecord: 8.4ms | Allocations: 22354)


Started GET "/api/v1/orders/checkout_history" for ::1 at 2023-10-23 15:21:13 +0300
Processing by Api::V1::OrdersController#checkout_history as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.2ms | Allocations: 3753)


  
NoMethodError (undefined method `orders' for #<User id: 5, first_name: "phillip", last_name: "Nzau", email: "phillip@nzau.com", password_digest: [FILTERED], created_at: "2023-10-23 12:20:52.193404000 +0000", updated_at: "2023-10-23 12:20:52.193404000 +0000", role: "user">):
  
app/controllers/api/v1/orders_controller.rb:55:in `checkout_history'
Started GET "/api/v1/orders/checkout_history" for ::1 at 2023-10-23 15:24:16 +0300
Processing by Api::V1::OrdersController#checkout_history as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? AND "orders"."status" = ?[0m  [["user_id", 5], ["status", "completed"]]
  ↳ app/controllers/api/v1/orders_controller.rb:57:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.3ms)
Completed 200 OK in 53ms (Views: 7.5ms | ActiveRecord: 2.4ms | Allocations: 18435)


Started GET "/api/v1/orders/checkout" for ::1 at 2023-10-23 15:26:42 +0300
Processing by Api::V1::OrdersController#checkout as */*
  Parameters: {"product_ids"=>[1, 2, 3], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:25:in `block in checkout'
  [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:29:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mProductInventory Update (0.2ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 99], ["updated_at", "2023-10-23 12:26:42.898860"], ["id", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:25:in `block in checkout'
  [1m[36mProductInventory Load (0.3ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:29:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mProductInventory Update (0.4ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 99], ["updated_at", "2023-10-23 12:26:42.919606"], ["id", 2]]
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:25:in `block in checkout'
  [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:29:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mProductInventory Update (0.3ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 99], ["updated_at", "2023-10-23 12:26:42.935359"], ["id", 3]]
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:43:in `checkout'
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 5], ["status", "completed"], ["created_at", "2023-10-23 12:26:42.946934"], ["updated_at", "2023-10-23 12:26:42.946934"]]
  ↳ app/controllers/api/v1/orders_controller.rb:43:in `checkout'
  [1m[36mOrderItem Create (0.1ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 1], ["product_id", 1], ["quantity", nil], ["created_at", "2023-10-23 12:26:42.949850"], ["updated_at", "2023-10-23 12:26:42.949850"]]
  ↳ app/controllers/api/v1/orders_controller.rb:43:in `checkout'
  [1m[36mOrderItem Create (0.1ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 1], ["product_id", 2], ["quantity", nil], ["created_at", "2023-10-23 12:26:42.951241"], ["updated_at", "2023-10-23 12:26:42.951241"]]
  ↳ app/controllers/api/v1/orders_controller.rb:43:in `checkout'
  [1m[36mOrderItem Create (0.1ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 1], ["product_id", 3], ["quantity", nil], ["created_at", "2023-10-23 12:26:42.952585"], ["updated_at", "2023-10-23 12:26:42.952585"]]
  ↳ app/controllers/api/v1/orders_controller.rb:43:in `checkout'
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:43:in `checkout'
Completed 500 Internal Server Error in 167ms (ActiveRecord: 37.7ms | Allocations: 87409)


  
NameError (uninitialized constant Api::V1::OrdersController::OrderSerializer):
  
app/controllers/api/v1/orders_controller.rb:44:in `checkout'
Started POST "/api/v1/orders/checkout" for ::1 at 2023-10-23 15:27:21 +0300
Processing by Api::V1::OrdersController#checkout as */*
  Parameters: {"product_ids"=>[1, 2, 3], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:25:in `block in checkout'
  [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:29:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mProductInventory Update (0.2ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 98], ["updated_at", "2023-10-23 12:27:21.992020"], ["id", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:25:in `block in checkout'
  [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:29:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mProductInventory Update (0.3ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 98], ["updated_at", "2023-10-23 12:27:22.009301"], ["id", 2]]
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:25:in `block in checkout'
  [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:29:in `block in checkout'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mProductInventory Update (0.2ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 98], ["updated_at", "2023-10-23 12:27:22.020967"], ["id", 3]]
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:43:in `checkout'
  [1m[36mOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 5], ["status", "completed"], ["created_at", "2023-10-23 12:27:22.032511"], ["updated_at", "2023-10-23 12:27:22.032511"]]
  ↳ app/controllers/api/v1/orders_controller.rb:43:in `checkout'
  [1m[36mOrderItem Create (0.3ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 2], ["product_id", 1], ["quantity", nil], ["created_at", "2023-10-23 12:27:22.039513"], ["updated_at", "2023-10-23 12:27:22.039513"]]
  ↳ app/controllers/api/v1/orders_controller.rb:43:in `checkout'
  [1m[36mOrderItem Create (0.2ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 2], ["product_id", 2], ["quantity", nil], ["created_at", "2023-10-23 12:27:22.043331"], ["updated_at", "2023-10-23 12:27:22.043331"]]
  ↳ app/controllers/api/v1/orders_controller.rb:43:in `checkout'
  [1m[36mOrderItem Create (0.2ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 2], ["product_id", 3], ["quantity", nil], ["created_at", "2023-10-23 12:27:22.046446"], ["updated_at", "2023-10-23 12:27:22.046446"]]
  ↳ app/controllers/api/v1/orders_controller.rb:43:in `checkout'
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:43:in `checkout'
Completed 500 Internal Server Error in 77ms (ActiveRecord: 34.3ms | Allocations: 16959)


  
NameError (uninitialized constant Api::V1::OrdersController::OrderSerializer):
  
app/controllers/api/v1/orders_controller.rb:44:in `checkout'
Started POST "/api/v1/orders/checkout" for ::1 at 2023-10-23 15:28:33 +0300
Processing by Api::V1::OrdersController#checkout as */*
  Parameters: {"product_ids"=>[1, 2, 3], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:25:in `block in checkout'
  [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:29:in `block in checkout'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mProductInventory Update (0.2ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 97], ["updated_at", "2023-10-23 12:28:33.408487"], ["id", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:25:in `block in checkout'
  [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:29:in `block in checkout'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mProductInventory Update (0.2ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 97], ["updated_at", "2023-10-23 12:28:33.420770"], ["id", 2]]
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:25:in `block in checkout'
  [1m[36mProductInventory Load (0.3ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:29:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mProductInventory Update (0.6ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 97], ["updated_at", "2023-10-23 12:28:33.441426"], ["id", 3]]
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:32:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:43:in `checkout'
  [1m[36mOrder Create (1.4ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 5], ["status", "completed"], ["created_at", "2023-10-23 12:28:33.459467"], ["updated_at", "2023-10-23 12:28:33.459467"]]
  ↳ app/controllers/api/v1/orders_controller.rb:43:in `checkout'
  [1m[36mOrderItem Create (0.6ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 3], ["product_id", 1], ["quantity", nil], ["created_at", "2023-10-23 12:28:33.470826"], ["updated_at", "2023-10-23 12:28:33.470826"]]
  ↳ app/controllers/api/v1/orders_controller.rb:43:in `checkout'
  [1m[36mOrderItem Create (0.4ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 3], ["product_id", 2], ["quantity", nil], ["created_at", "2023-10-23 12:28:33.477935"], ["updated_at", "2023-10-23 12:28:33.477935"]]
  ↳ app/controllers/api/v1/orders_controller.rb:43:in `checkout'
  [1m[36mOrderItem Create (0.3ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 3], ["product_id", 3], ["quantity", nil], ["created_at", "2023-10-23 12:28:33.484285"], ["updated_at", "2023-10-23 12:28:33.484285"]]
  ↳ app/controllers/api/v1/orders_controller.rb:43:in `checkout'
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:43:in `checkout'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered OrderSerializer with ActiveModelSerializers::Adapter::Attributes (1.0ms)
Completed 200 OK in 138ms (Views: 5.5ms | ActiveRecord: 37.5ms | Allocations: 37066)


Started GET "/api/v1/orders/checkout_history" for ::1 at 2023-10-23 15:28:46 +0300
Processing by Api::V1::OrdersController#checkout_history as */*
  Parameters: {"product_ids"=>[1, 2, 3], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? AND "orders"."status" = ?[0m  [["user_id", 5], ["status", "completed"]]
  ↳ app/controllers/api/v1/orders_controller.rb:57:in `map'
  [1m[36mProduct Sum (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:61:in `block in checkout_history'
  [1m[36mProduct Sum (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 2]]
  ↳ app/controllers/api/v1/orders_controller.rb:61:in `block in checkout_history'
  [1m[36mProduct Sum (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 3]]
  ↳ app/controllers/api/v1/orders_controller.rb:61:in `block in checkout_history'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ? /* loading for inspect */ LIMIT ?[0m  [["order_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/orders_controller.rb:65:in `checkout_history'
No serializer found for resource: {:order=>#<Order id: 1, user_id: 5, status: "completed", created_at: "2023-10-23 12:26:42.946934000 +0000", updated_at: "2023-10-23 12:26:42.946934000 +0000">, :products=>#<ActiveRecord::Associations::CollectionProxy [#<Product id: 1, name: "Gorgeous Aluminum Clock", description: "Qui similique doloremque. Nobis aperiam voluptatem...", price: 0.24387e3, barcode: "88041179", created_at: "2023-10-23 11:29:50.676498000 +0000", updated_at: "2023-10-23 11:29:50.676498000 +0000">, #<Product id: 2, name: "Synergistic Granite Wallet", description: "Ipsum cumque dignissimos. Voluptas qui dolorum. Ut...", price: 0.12299e3, barcode: "92236325", created_at: "2023-10-23 11:29:50.787723000 +0000", updated_at: "2023-10-23 11:29:50.787723000 +0000">, #<Product id: 3, name: "Gorgeous Steel Hat", description: "Earum facere esse. Possimus voluptatum hic. Amet q...", price: 0.39919e3, barcode: "21064364", created_at: "2023-10-23 11:29:50.840992000 +0000", updated_at: "2023-10-23 11:29:50.840992000 +0000">]>, :total_price=>0.76605e3}
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/orders_controller.rb:65:in `checkout_history'
[active_model_serializers]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 2]]
[active_model_serializers]   ↳ app/controllers/api/v1/orders_controller.rb:65:in `checkout_history'
[active_model_serializers]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 3]]
[active_model_serializers]   ↳ app/controllers/api/v1/orders_controller.rb:65:in `checkout_history'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Array (7.48ms)
Completed 200 OK in 18ms (Views: 10.4ms | ActiveRecord: 1.1ms | Allocations: 10973)


Started POST "/api/v1/orders/checkout" for ::1 at 2023-10-23 15:32:22 +0300
Processing by Api::V1::OrdersController#checkout as */*
  Parameters: {"product_ids"=>[7, 8, 9], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? AND "orders"."status" = ? ORDER BY "orders"."id" DESC LIMIT ?[0m  [["user_id", 5], ["status", "pending"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:23:in `checkout'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:31:in `block in checkout'
  [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:35:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProductInventory Update (0.6ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 99], ["updated_at", "2023-10-23 12:32:22.162829"], ["id", 7]]
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:31:in `block in checkout'
  [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:35:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProductInventory Update (0.6ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 99], ["updated_at", "2023-10-23 12:32:22.178009"], ["id", 8]]
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:31:in `block in checkout'
  [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:35:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProductInventory Update (0.6ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 99], ["updated_at", "2023-10-23 12:32:22.192235"], ["id", 9]]
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mTRANSACTION (14.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:49:in `checkout'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 5], ["status", "pending"], ["created_at", "2023-10-23 12:32:22.212467"], ["updated_at", "2023-10-23 12:32:22.212467"]]
  ↳ app/controllers/api/v1/orders_controller.rb:49:in `checkout'
  [1m[36mOrderItem Create (0.2ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 4], ["product_id", 7], ["quantity", nil], ["created_at", "2023-10-23 12:32:22.215717"], ["updated_at", "2023-10-23 12:32:22.215717"]]
  ↳ app/controllers/api/v1/orders_controller.rb:49:in `checkout'
  [1m[36mOrderItem Create (0.1ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 4], ["product_id", 8], ["quantity", nil], ["created_at", "2023-10-23 12:32:22.217934"], ["updated_at", "2023-10-23 12:32:22.217934"]]
  ↳ app/controllers/api/v1/orders_controller.rb:49:in `checkout'
  [1m[36mOrderItem Create (0.1ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 4], ["product_id", 9], ["quantity", nil], ["created_at", "2023-10-23 12:32:22.220297"], ["updated_at", "2023-10-23 12:32:22.220297"]]
  ↳ app/controllers/api/v1/orders_controller.rb:49:in `checkout'
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:49:in `checkout'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered OrderSerializer with ActiveModelSerializers::Adapter::Attributes (0.26ms)
Completed 200 OK in 113ms (Views: 1.5ms | ActiveRecord: 41.5ms | Allocations: 38177)


Started GET "/api/v1/orders/checkout_history" for ::1 at 2023-10-23 15:32:34 +0300
Processing by Api::V1::OrdersController#checkout_history as */*
  Parameters: {"product_ids"=>[7, 8, 9], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? AND "orders"."status" = ?[0m  [["user_id", 5], ["status", "completed"]]
  ↳ app/controllers/api/v1/orders_controller.rb:63:in `map'
  [1m[36mProduct Sum (0.2ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:67:in `block in checkout_history'
  [1m[36mProduct Sum (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 2]]
  ↳ app/controllers/api/v1/orders_controller.rb:67:in `block in checkout_history'
  [1m[36mProduct Sum (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 3]]
  ↳ app/controllers/api/v1/orders_controller.rb:67:in `block in checkout_history'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ? /* loading for inspect */ LIMIT ?[0m  [["order_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/orders_controller.rb:71:in `checkout_history'
No serializer found for resource: {:order=>#<Order id: 1, user_id: 5, status: "completed", created_at: "2023-10-23 12:26:42.946934000 +0000", updated_at: "2023-10-23 12:26:42.946934000 +0000">, :products=>#<ActiveRecord::Associations::CollectionProxy [#<Product id: 1, name: "Gorgeous Aluminum Clock", description: "Qui similique doloremque. Nobis aperiam voluptatem...", price: 0.24387e3, barcode: "88041179", created_at: "2023-10-23 11:29:50.676498000 +0000", updated_at: "2023-10-23 11:29:50.676498000 +0000">, #<Product id: 2, name: "Synergistic Granite Wallet", description: "Ipsum cumque dignissimos. Voluptas qui dolorum. Ut...", price: 0.12299e3, barcode: "92236325", created_at: "2023-10-23 11:29:50.787723000 +0000", updated_at: "2023-10-23 11:29:50.787723000 +0000">, #<Product id: 3, name: "Gorgeous Steel Hat", description: "Earum facere esse. Possimus voluptatum hic. Amet q...", price: 0.39919e3, barcode: "21064364", created_at: "2023-10-23 11:29:50.840992000 +0000", updated_at: "2023-10-23 11:29:50.840992000 +0000">]>, :total_price=>0.76605e3}
[active_model_serializers]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/orders_controller.rb:71:in `checkout_history'
[active_model_serializers]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 2]]
[active_model_serializers]   ↳ app/controllers/api/v1/orders_controller.rb:71:in `checkout_history'
[active_model_serializers]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 3]]
[active_model_serializers]   ↳ app/controllers/api/v1/orders_controller.rb:71:in `checkout_history'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Array (7.03ms)
Completed 200 OK in 21ms (Views: 11.1ms | ActiveRecord: 1.4ms | Allocations: 10761)


Started POST "/api/v1/orders/checkout" for ::1 at 2023-10-23 15:34:04 +0300
Processing by Api::V1::OrdersController#checkout as */*
  Parameters: {"product_ids"=>[7, 8, 9], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? AND "orders"."status" = ? ORDER BY "orders"."id" DESC LIMIT ?[0m  [["user_id", 5], ["status", "pending"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:23:in `checkout'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:31:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:34:in `block in checkout'
  [1m[36mOrderItem Create (0.4ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 4], ["product_id", 7], ["quantity", nil], ["created_at", "2023-10-23 12:34:04.701887"], ["updated_at", "2023-10-23 12:34:04.701887"]]
  ↳ app/controllers/api/v1/orders_controller.rb:34:in `block in checkout'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:34:in `block in checkout'
  [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:35:in `block in checkout'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProductInventory Update (0.2ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 98], ["updated_at", "2023-10-23 12:34:04.714922"], ["id", 7]]
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:31:in `block in checkout'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:34:in `block in checkout'
  [1m[36mOrderItem Create (0.2ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 4], ["product_id", 8], ["quantity", nil], ["created_at", "2023-10-23 12:34:04.727020"], ["updated_at", "2023-10-23 12:34:04.727020"]]
  ↳ app/controllers/api/v1/orders_controller.rb:34:in `block in checkout'
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:34:in `block in checkout'
  [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 8], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:35:in `block in checkout'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProductInventory Update (0.2ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 98], ["updated_at", "2023-10-23 12:34:04.739728"], ["id", 8]]
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:31:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:34:in `block in checkout'
  [1m[36mOrderItem Create (0.3ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 4], ["product_id", 9], ["quantity", nil], ["created_at", "2023-10-23 12:34:04.750923"], ["updated_at", "2023-10-23 12:34:04.750923"]]
  ↳ app/controllers/api/v1/orders_controller.rb:34:in `block in checkout'
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:34:in `block in checkout'
  [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:35:in `block in checkout'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProductInventory Update (0.2ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 98], ["updated_at", "2023-10-23 12:34:04.763006"], ["id", 9]]
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered OrderSerializer with ActiveModelSerializers::Adapter::Attributes (0.26ms)
Completed 200 OK in 76ms (Views: 1.3ms | ActiveRecord: 44.3ms | Allocations: 17489)


Started POST "/api/v1/orders/checkout" for ::1 at 2023-10-23 15:34:21 +0300
Processing by Api::V1::OrdersController#checkout as */*
  Parameters: {"product_ids"=>[11, 13], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? AND "orders"."status" = ? ORDER BY "orders"."id" DESC LIMIT ?[0m  [["user_id", 5], ["status", "pending"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:23:in `checkout'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:31:in `block in checkout'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:34:in `block in checkout'
  [1m[36mOrderItem Create (0.3ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 4], ["product_id", 11], ["quantity", nil], ["created_at", "2023-10-23 12:34:21.319836"], ["updated_at", "2023-10-23 12:34:21.319836"]]
  ↳ app/controllers/api/v1/orders_controller.rb:34:in `block in checkout'
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:34:in `block in checkout'
  [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:35:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProductInventory Update (0.3ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 99], ["updated_at", "2023-10-23 12:34:21.333898"], ["id", 11]]
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mTRANSACTION (16.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:31:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:34:in `block in checkout'
  [1m[36mOrderItem Create (0.4ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 4], ["product_id", 13], ["quantity", nil], ["created_at", "2023-10-23 12:34:21.358123"], ["updated_at", "2023-10-23 12:34:21.358123"]]
  ↳ app/controllers/api/v1/orders_controller.rb:34:in `block in checkout'
  [1m[36mTRANSACTION (15.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:34:in `block in checkout'
  [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:35:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProductInventory Update (0.3ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 99], ["updated_at", "2023-10-23 12:34:21.381143"], ["id", 13]]
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered OrderSerializer with ActiveModelSerializers::Adapter::Attributes (0.27ms)
Completed 200 OK in 79ms (Views: 1.6ms | ActiveRecord: 49.6ms | Allocations: 12686)


Started GET "/api/v1/orders/checkout_history" for ::1 at 2023-10-23 15:34:53 +0300
Processing by Api::V1::OrdersController#checkout_history as */*
  Parameters: {"product_ids"=>[11, 13], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? AND "orders"."status" = ?[0m  [["user_id", 5], ["status", "completed"]]
  ↳ app/controllers/api/v1/orders_controller.rb:63:in `map'
  [1m[36mProduct Sum (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:67:in `block in checkout_history'
  [1m[36mProduct Sum (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 2]]
  ↳ app/controllers/api/v1/orders_controller.rb:67:in `block in checkout_history'
  [1m[36mProduct Sum (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 3]]
  ↳ app/controllers/api/v1/orders_controller.rb:67:in `block in checkout_history'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ? /* loading for inspect */ LIMIT ?[0m  [["order_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/orders_controller.rb:71:in `checkout_history'
No serializer found for resource: {:order=>#<Order id: 1, user_id: 5, status: "completed", created_at: "2023-10-23 12:26:42.946934000 +0000", updated_at: "2023-10-23 12:26:42.946934000 +0000">, :products=>#<ActiveRecord::Associations::CollectionProxy [#<Product id: 1, name: "Gorgeous Aluminum Clock", description: "Qui similique doloremque. Nobis aperiam voluptatem...", price: 0.24387e3, barcode: "88041179", created_at: "2023-10-23 11:29:50.676498000 +0000", updated_at: "2023-10-23 11:29:50.676498000 +0000">, #<Product id: 2, name: "Synergistic Granite Wallet", description: "Ipsum cumque dignissimos. Voluptas qui dolorum. Ut...", price: 0.12299e3, barcode: "92236325", created_at: "2023-10-23 11:29:50.787723000 +0000", updated_at: "2023-10-23 11:29:50.787723000 +0000">, #<Product id: 3, name: "Gorgeous Steel Hat", description: "Earum facere esse. Possimus voluptatum hic. Amet q...", price: 0.39919e3, barcode: "21064364", created_at: "2023-10-23 11:29:50.840992000 +0000", updated_at: "2023-10-23 11:29:50.840992000 +0000">]>, :total_price=>0.76605e3}
[active_model_serializers]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/orders_controller.rb:71:in `checkout_history'
[active_model_serializers]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 2]]
[active_model_serializers]   ↳ app/controllers/api/v1/orders_controller.rb:71:in `checkout_history'
[active_model_serializers]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 3]]
[active_model_serializers]   ↳ app/controllers/api/v1/orders_controller.rb:71:in `checkout_history'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Array (6.64ms)
Completed 200 OK in 22ms (Views: 11.9ms | ActiveRecord: 1.1ms | Allocations: 10029)


  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20231019094854)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019094854"]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20231019100809)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "price" decimal, "barcode" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_products_on_barcode" ON "products" ("barcode")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100809"]]
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductInventories (20231019100836)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "product_inventories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "stock_quantity" integer, "restock_alert_threshold" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_889dd5a582"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_product_inventories_on_product_id" ON "product_inventories" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100836"]]
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20231019100849)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100849"]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductCategories (20231019100907)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "product_categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_98a9a32a41"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_005b71ca83"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_product_id" ON "product_categories" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_product_categories_on_category_id" ON "product_categories" ("category_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231019100907"]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddRoleToUsers (20231023075600)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "role" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231023075600"]]
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrders (20231023120901)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "status" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_orders_on_user_id" ON "orders" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231023120901"]]
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrderItems (20231023120930)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer NOT NULL, "product_id" integer NOT NULL, "quantity" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e3cb28f071"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_f1a29ddd47"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_order_items_on_order_id" ON "order_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_order_items_on_product_id" ON "order_items" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231023120930"]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-10-23 12:35:17.538387"], ["updated_at", "2023-10-23 12:35:17.538387"]]
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Admin"], ["last_name", "User"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 12:35:24.986793"], ["updated_at", "2023-10-23 12:35:24.986793"], ["role", "admin"]]
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user1@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "User"], ["last_name", "1"], ["email", "user1@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 12:35:25.233727"], ["updated_at", "2023-10-23 12:35:25.233727"], ["role", "user"]]
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user2@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "User"], ["last_name", "2"], ["email", "user2@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 12:35:25.452887"], ["updated_at", "2023-10-23 12:35:25.452887"], ["role", "user"]]
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "user3@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "User"], ["last_name", "3"], ["email", "user3@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 12:35:25.657444"], ["updated_at", "2023-10-23 12:35:25.657444"], ["role", "user"]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Keyboards"], ["created_at", "2023-10-23 12:35:25.676600"], ["updated_at", "2023-10-23 12:35:25.676600"]]
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Mice"], ["created_at", "2023-10-23 12:35:25.687526"], ["updated_at", "2023-10-23 12:35:25.687526"]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Monitors"], ["created_at", "2023-10-23 12:35:25.701480"], ["updated_at", "2023-10-23 12:35:25.701480"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Cables"], ["created_at", "2023-10-23 12:35:25.716918"], ["updated_at", "2023-10-23 12:35:25.716918"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Headsets"], ["created_at", "2023-10-23 12:35:25.732128"], ["updated_at", "2023-10-23 12:35:25.732128"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Practical Bronze Clock"], ["description", "Dolor dolor et. Ut qui odio. Rerum in fuga."], ["price", 162.33], ["barcode", "59955177"], ["created_at", "2023-10-23 12:35:26.651708"], ["updated_at", "2023-10-23 12:35:26.651708"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["category_id", 5], ["created_at", "2023-10-23 12:35:26.680022"], ["updated_at", "2023-10-23 12:35:26.680022"]]
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 1], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 12:35:26.726528"], ["updated_at", "2023-10-23 12:35:26.726528"]]
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Awesome Steel Plate"], ["description", "Est sed et. Deleniti aut velit. Quis eum nemo."], ["price", 325.59], ["barcode", "43766307"], ["created_at", "2023-10-23 12:35:26.743202"], ["updated_at", "2023-10-23 12:35:26.743202"]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["category_id", 1], ["created_at", "2023-10-23 12:35:26.760596"], ["updated_at", "2023-10-23 12:35:26.760596"]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.6ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 2], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 12:35:26.775503"], ["updated_at", "2023-10-23 12:35:26.775503"]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Heavy Duty Copper Watch"], ["description", "Odit perspiciatis nesciunt. Non voluptas repellendus. Facere perspiciatis aliquid."], ["price", 181.52], ["barcode", "47145948"], ["created_at", "2023-10-23 12:35:26.793965"], ["updated_at", "2023-10-23 12:35:26.793965"]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 3], ["category_id", 4], ["created_at", "2023-10-23 12:35:26.815955"], ["updated_at", "2023-10-23 12:35:26.815955"]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.6ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 3], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 12:35:26.833712"], ["updated_at", "2023-10-23 12:35:26.833712"]]
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Practical Wool Bench"], ["description", "Est quam adipisci. Mollitia ad sint. Quidem eum dolorum."], ["price", 249.33], ["barcode", "32766998"], ["created_at", "2023-10-23 12:35:26.851599"], ["updated_at", "2023-10-23 12:35:26.851599"]]
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["category_id", 4], ["created_at", "2023-10-23 12:35:26.868622"], ["updated_at", "2023-10-23 12:35:26.868622"]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 4], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 12:35:26.882764"], ["updated_at", "2023-10-23 12:35:26.882764"]]
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Sleek Aluminum Knife"], ["description", "Quis facilis et. Aperiam qui qui. Commodi et deleniti."], ["price", 69.23], ["barcode", "61827394"], ["created_at", "2023-10-23 12:35:26.897320"], ["updated_at", "2023-10-23 12:35:26.897320"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["category_id", 1], ["created_at", "2023-10-23 12:35:26.914258"], ["updated_at", "2023-10-23 12:35:26.914258"]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.6ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 5], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 12:35:26.931916"], ["updated_at", "2023-10-23 12:35:26.931916"]]
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Awesome Granite Car"], ["description", "Quia adipisci beatae. Iure itaque aut. Sapiente quod laborum."], ["price", 78.33], ["barcode", "21617645"], ["created_at", "2023-10-23 12:35:26.948442"], ["updated_at", "2023-10-23 12:35:26.948442"]]
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["category_id", 4], ["created_at", "2023-10-23 12:35:26.963250"], ["updated_at", "2023-10-23 12:35:26.963250"]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 6], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 12:35:26.979932"], ["updated_at", "2023-10-23 12:35:26.979932"]]
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Ergonomic Paper Table"], ["description", "Sit aut est. Sunt autem dignissimos. Commodi ab et."], ["price", 184.47], ["barcode", "97015536"], ["created_at", "2023-10-23 12:35:26.995270"], ["updated_at", "2023-10-23 12:35:26.995270"]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (1.0ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 7], ["category_id", 4], ["created_at", "2023-10-23 12:35:27.015951"], ["updated_at", "2023-10-23 12:35:27.015951"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 7], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 12:35:27.034240"], ["updated_at", "2023-10-23 12:35:27.034240"]]
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Intelligent Aluminum Bag"], ["description", "Consequatur aperiam quia. Aut delectus quia. Voluptatem est et."], ["price", 391.21], ["barcode", "65223611"], ["created_at", "2023-10-23 12:35:27.047770"], ["updated_at", "2023-10-23 12:35:27.047770"]]
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 8], ["category_id", 1], ["created_at", "2023-10-23 12:35:27.060924"], ["updated_at", "2023-10-23 12:35:27.060924"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 8], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 12:35:27.073893"], ["updated_at", "2023-10-23 12:35:27.073893"]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Gorgeous Marble Watch"], ["description", "Iste veritatis ex. Eum voluptas quis. Dolorem quaerat et."], ["price", 125.04], ["barcode", "94471595"], ["created_at", "2023-10-23 12:35:27.088169"], ["updated_at", "2023-10-23 12:35:27.088169"]]
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 9], ["category_id", 1], ["created_at", "2023-10-23 12:35:27.099849"], ["updated_at", "2023-10-23 12:35:27.099849"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 9], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 12:35:27.111061"], ["updated_at", "2023-10-23 12:35:27.111061"]]
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lightweight Paper Shoes"], ["description", "Placeat fugit non. Ratione a natus. Natus ipsam at."], ["price", 145.03], ["barcode", "83800900"], ["created_at", "2023-10-23 12:35:27.123853"], ["updated_at", "2023-10-23 12:35:27.123853"]]
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 10], ["category_id", 1], ["created_at", "2023-10-23 12:35:27.135534"], ["updated_at", "2023-10-23 12:35:27.135534"]]
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.6ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 10], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 12:35:27.147376"], ["updated_at", "2023-10-23 12:35:27.147376"]]
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Synergistic Steel Bag"], ["description", "Beatae illo sed. Ut laudantium molestiae. Vel neque et."], ["price", 399.78], ["barcode", "53128157"], ["created_at", "2023-10-23 12:35:27.165013"], ["updated_at", "2023-10-23 12:35:27.165013"]]
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 11], ["category_id", 2], ["created_at", "2023-10-23 12:35:27.184979"], ["updated_at", "2023-10-23 12:35:27.184979"]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 11], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 12:35:27.199441"], ["updated_at", "2023-10-23 12:35:27.199441"]]
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Enormous Copper Car"], ["description", "At fugiat reiciendis. Commodi ea expedita. Quo cum qui."], ["price", 55.67], ["barcode", "34154717"], ["created_at", "2023-10-23 12:35:27.213885"], ["updated_at", "2023-10-23 12:35:27.213885"]]
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 12], ["category_id", 5], ["created_at", "2023-10-23 12:35:27.250408"], ["updated_at", "2023-10-23 12:35:27.250408"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 12], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 12:35:27.263299"], ["updated_at", "2023-10-23 12:35:27.263299"]]
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Durable Rubber Lamp"], ["description", "Corporis et praesentium. Molestias a repudiandae. Et dicta ut."], ["price", 234.97], ["barcode", "41654019"], ["created_at", "2023-10-23 12:35:27.274619"], ["updated_at", "2023-10-23 12:35:27.274619"]]
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 13], ["category_id", 2], ["created_at", "2023-10-23 12:35:27.285637"], ["updated_at", "2023-10-23 12:35:27.285637"]]
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.6ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 13], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 12:35:27.297582"], ["updated_at", "2023-10-23 12:35:27.297582"]]
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Gorgeous Linen Plate"], ["description", "Inventore unde porro. Hic asperiores sequi. Dolorum unde consequuntur."], ["price", 321.71], ["barcode", "46943736"], ["created_at", "2023-10-23 12:35:27.315122"], ["updated_at", "2023-10-23 12:35:27.315122"]]
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 14], ["category_id", 3], ["created_at", "2023-10-23 12:35:27.334012"], ["updated_at", "2023-10-23 12:35:27.334012"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.6ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 14], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 12:35:27.350343"], ["updated_at", "2023-10-23 12:35:27.350343"]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Small Cotton Clock"], ["description", "Ab veritatis ullam. Quidem sunt qui. Quasi et harum."], ["price", 317.69], ["barcode", "45347269"], ["created_at", "2023-10-23 12:35:27.365154"], ["updated_at", "2023-10-23 12:35:27.365154"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 15], ["category_id", 3], ["created_at", "2023-10-23 12:35:27.378319"], ["updated_at", "2023-10-23 12:35:27.378319"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 15], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 12:35:27.390609"], ["updated_at", "2023-10-23 12:35:27.390609"]]
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Rustic Marble Lamp"], ["description", "Numquam enim quaerat. Asperiores quibusdam rerum. Atque quia dolorem."], ["price", 77.3], ["barcode", "90576737"], ["created_at", "2023-10-23 12:35:27.402923"], ["updated_at", "2023-10-23 12:35:27.402923"]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 16], ["category_id", 3], ["created_at", "2023-10-23 12:35:27.421002"], ["updated_at", "2023-10-23 12:35:27.421002"]]
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 16], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 12:35:27.437423"], ["updated_at", "2023-10-23 12:35:27.437423"]]
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Synergistic Iron Car"], ["description", "Sed id doloribus. Sit repellat dolorum. Minima et qui."], ["price", 39.45], ["barcode", "18940435"], ["created_at", "2023-10-23 12:35:27.455408"], ["updated_at", "2023-10-23 12:35:27.455408"]]
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 17], ["category_id", 2], ["created_at", "2023-10-23 12:35:27.476095"], ["updated_at", "2023-10-23 12:35:27.476095"]]
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.6ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 17], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 12:35:27.493392"], ["updated_at", "2023-10-23 12:35:27.493392"]]
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lightweight Cotton Clock"], ["description", "Voluptatum quibusdam et. Nihil veniam cum. Est est fuga."], ["price", 471.42], ["barcode", "68654962"], ["created_at", "2023-10-23 12:35:27.509533"], ["updated_at", "2023-10-23 12:35:27.509533"]]
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.8ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 18], ["category_id", 2], ["created_at", "2023-10-23 12:35:27.524922"], ["updated_at", "2023-10-23 12:35:27.524922"]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.8ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 18], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 12:35:27.543454"], ["updated_at", "2023-10-23 12:35:27.543454"]]
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Intelligent Cotton Bench"], ["description", "Ut qui quidem. Non minima laboriosam. Sequi labore suscipit."], ["price", 138.48], ["barcode", "10885505"], ["created_at", "2023-10-23 12:35:27.561050"], ["updated_at", "2023-10-23 12:35:27.561050"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 19], ["category_id", 2], ["created_at", "2023-10-23 12:35:27.576897"], ["updated_at", "2023-10-23 12:35:27.576897"]]
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 19], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 12:35:27.592679"], ["updated_at", "2023-10-23 12:35:27.592679"]]
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "barcode", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Fantastic Aluminum Keyboard"], ["description", "Vel quaerat est. Facere aut quos. Non alias ad."], ["price", 387.49], ["barcode", "45402012"], ["created_at", "2023-10-23 12:35:27.610373"], ["updated_at", "2023-10-23 12:35:27.610373"]]
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_categories" ("product_id", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 20], ["category_id", 2], ["created_at", "2023-10-23 12:35:27.626346"], ["updated_at", "2023-10-23 12:35:27.626346"]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductInventory Create (0.3ms)[0m  [1m[32mINSERT INTO "product_inventories" ("product_id", "stock_quantity", "restock_alert_threshold", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 20], ["stock_quantity", 100], ["restock_alert_threshold", 20], ["created_at", "2023-10-23 12:35:27.641115"], ["updated_at", "2023-10-23 12:35:27.641115"]]
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
Started POST "/api/v1/register" for ::1 at 2023-10-23 15:35:39 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#register as */*
  Parameters: {"user"=>{"first_name"=>"phillip", "last_name"=>"Nzau", "email"=>"phillip@nzau.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("first_name", "last_name", "email", "password_digest", "created_at", "updated_at", "role") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "phillip"], ["last_name", "Nzau"], ["email", "phillip@nzau.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-10-23 12:35:39.916920"], ["updated_at", "2023-10-23 12:35:39.916920"], ["role", "user"]]
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:7:in `register'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "phillip@nzau.com"], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `register'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 201 Created in 248ms (Views: 1.2ms | ActiveRecord: 10.8ms | Allocations: 44989)


Started GET "/api/v1/orders/checkout_history" for ::1 at 2023-10-23 15:36:21 +0300
Processing by Api::V1::OrdersController#checkout_history as */*
  Parameters: {"product_ids"=>[11, 13], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? AND "orders"."status" = ?[0m  [["user_id", 5], ["status", "completed"]]
  ↳ app/controllers/api/v1/orders_controller.rb:63:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.14ms)
Completed 200 OK in 21ms (Views: 5.4ms | ActiveRecord: 0.7ms | Allocations: 8924)


Started POST "/api/v1/orders/checkout" for ::1 at 2023-10-23 15:36:30 +0300
Processing by Api::V1::OrdersController#checkout as */*
  Parameters: {"product_ids"=>[11, 13], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? AND "orders"."status" = ? ORDER BY "orders"."id" DESC LIMIT ?[0m  [["user_id", 5], ["status", "pending"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:23:in `checkout'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:31:in `block in checkout'
  [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:35:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProductInventory Update (0.2ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 99], ["updated_at", "2023-10-23 12:36:30.197226"], ["id", 11]]
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:31:in `block in checkout'
  [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:35:in `block in checkout'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProductInventory Update (0.3ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 99], ["updated_at", "2023-10-23 12:36:30.210129"], ["id", 13]]
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:49:in `checkout'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 5], ["status", "pending"], ["created_at", "2023-10-23 12:36:30.220537"], ["updated_at", "2023-10-23 12:36:30.220537"]]
  ↳ app/controllers/api/v1/orders_controller.rb:49:in `checkout'
  [1m[36mOrderItem Create (0.2ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 1], ["product_id", 11], ["quantity", nil], ["created_at", "2023-10-23 12:36:30.225318"], ["updated_at", "2023-10-23 12:36:30.225318"]]
  ↳ app/controllers/api/v1/orders_controller.rb:49:in `checkout'
  [1m[36mOrderItem Create (0.1ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 1], ["product_id", 13], ["quantity", nil], ["created_at", "2023-10-23 12:36:30.227380"], ["updated_at", "2023-10-23 12:36:30.227380"]]
  ↳ app/controllers/api/v1/orders_controller.rb:49:in `checkout'
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:49:in `checkout'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered OrderSerializer with ActiveModelSerializers::Adapter::Attributes (0.68ms)
Completed 200 OK in 143ms (Views: 2.3ms | ActiveRecord: 28.7ms | Allocations: 84649)


Started GET "/api/v1/orders/checkout_history" for ::1 at 2023-10-23 15:36:35 +0300
Processing by Api::V1::OrdersController#checkout_history as */*
  Parameters: {"product_ids"=>[11, 13], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? AND "orders"."status" = ?[0m  [["user_id", 5], ["status", "completed"]]
  ↳ app/controllers/api/v1/orders_controller.rb:63:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.07ms)
Completed 200 OK in 6ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 2518)


Started GET "/api/v1/orders/checkout_history" for ::1 at 2023-10-23 15:38:03 +0300
Processing by Api::V1::OrdersController#checkout_history as */*
  Parameters: {"product_ids"=>[11, 13], "order"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? AND "orders"."status" = ?[0m  [["user_id", 5], ["status", "completed"]]
  ↳ app/controllers/api/v1/orders_controller.rb:64:in `map'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.13ms)
Completed 200 OK in 49ms (Views: 3.5ms | ActiveRecord: 2.4ms | Allocations: 7200)


Started POST "/api/v1/orders/checkout" for ::1 at 2023-10-23 15:38:06 +0300
Processing by Api::V1::OrdersController#checkout as */*
  Parameters: {"product_ids"=>[11, 13], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? AND "orders"."status" = ? ORDER BY "orders"."id" DESC LIMIT ?[0m  [["user_id", 5], ["status", "pending"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:23:in `checkout'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:31:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:34:in `block in checkout'
  [1m[36mOrderItem Create (0.2ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 1], ["product_id", 11], ["quantity", nil], ["created_at", "2023-10-23 12:38:06.426856"], ["updated_at", "2023-10-23 12:38:06.426856"]]
  ↳ app/controllers/api/v1/orders_controller.rb:34:in `block in checkout'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:34:in `block in checkout'
  [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 11], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:35:in `block in checkout'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProductInventory Update (0.2ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 98], ["updated_at", "2023-10-23 12:38:06.442588"], ["id", 11]]
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:31:in `block in checkout'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:34:in `block in checkout'
  [1m[36mOrderItem Create (0.9ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 1], ["product_id", 13], ["quantity", nil], ["created_at", "2023-10-23 12:38:06.463328"], ["updated_at", "2023-10-23 12:38:06.463328"]]
  ↳ app/controllers/api/v1/orders_controller.rb:34:in `block in checkout'
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:34:in `block in checkout'
  [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:35:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProductInventory Update (0.2ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 98], ["updated_at", "2023-10-23 12:38:06.485491"], ["id", 13]]
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:50:in `checkout'
  [1m[36mOrder Update (0.4ms)[0m  [1m[33mUPDATE "orders" SET "status" = ?, "updated_at" = ? WHERE "orders"."id" = ?[0m  [["status", "completed"], ["updated_at", "2023-10-23 12:38:06.501904"], ["id", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:50:in `checkout'
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:50:in `checkout'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered OrderSerializer with ActiveModelSerializers::Adapter::Attributes (0.65ms)
Completed 200 OK in 124ms (Views: 3.9ms | ActiveRecord: 42.0ms | Allocations: 30692)


Started GET "/api/v1/orders/checkout_history" for ::1 at 2023-10-23 15:38:09 +0300
Processing by Api::V1::OrdersController#checkout_history as */*
  Parameters: {"product_ids"=>[11, 13], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? AND "orders"."status" = ?[0m  [["user_id", 5], ["status", "completed"]]
  ↳ app/controllers/api/v1/orders_controller.rb:64:in `map'
  [1m[36mProduct Sum (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:68:in `block in checkout_history'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ? /* loading for inspect */ LIMIT ?[0m  [["order_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/orders_controller.rb:72:in `checkout_history'
No serializer found for resource: {:order=>#<Order id: 1, user_id: 5, status: "completed", created_at: "2023-10-23 12:36:30.220537000 +0000", updated_at: "2023-10-23 12:38:06.501904000 +0000">, :products=>#<ActiveRecord::Associations::CollectionProxy [#<Product id: 11, name: "Synergistic Steel Bag", description: "Beatae illo sed. Ut laudantium molestiae. Vel nequ...", price: 0.39978e3, barcode: "53128157", created_at: "2023-10-23 12:35:27.165013000 +0000", updated_at: "2023-10-23 12:35:27.165013000 +0000">, #<Product id: 13, name: "Durable Rubber Lamp", description: "Corporis et praesentium. Molestias a repudiandae. ...", price: 0.23497e3, barcode: "41654019", created_at: "2023-10-23 12:35:27.274619000 +0000", updated_at: "2023-10-23 12:35:27.274619000 +0000">, #<Product id: 11, name: "Synergistic Steel Bag", description: "Beatae illo sed. Ut laudantium molestiae. Vel nequ...", price: 0.39978e3, barcode: "53128157", created_at: "2023-10-23 12:35:27.165013000 +0000", updated_at: "2023-10-23 12:35:27.165013000 +0000">, #<Product id: 13, name: "Durable Rubber Lamp", description: "Corporis et praesentium. Molestias a repudiandae. ...", price: 0.23497e3, barcode: "41654019", created_at: "2023-10-23 12:35:27.274619000 +0000", updated_at: "2023-10-23 12:35:27.274619000 +0000">]>, :total_price=>0.12695e4}
[active_model_serializers]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/orders_controller.rb:72:in `checkout_history'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Array (2.15ms)
Completed 200 OK in 10ms (Views: 4.6ms | ActiveRecord: 0.6ms | Allocations: 6820)


Started POST "/api/v1/orders/checkout" for ::1 at 2023-10-23 15:38:31 +0300
Processing by Api::V1::OrdersController#checkout as */*
  Parameters: {"product_ids"=>[1, 2, 3], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? AND "orders"."status" = ? ORDER BY "orders"."id" DESC LIMIT ?[0m  [["user_id", 5], ["status", "pending"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:23:in `checkout'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:31:in `block in checkout'
  [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:35:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProductInventory Update (0.3ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 99], ["updated_at", "2023-10-23 12:38:31.758036"], ["id", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:31:in `block in checkout'
  [1m[36mProductInventory Load (0.2ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:35:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProductInventory Update (0.2ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 99], ["updated_at", "2023-10-23 12:38:31.772590"], ["id", 2]]
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:31:in `block in checkout'
  [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:35:in `block in checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mProductInventory Update (0.3ms)[0m  [1m[33mUPDATE "product_inventories" SET "stock_quantity" = ?, "updated_at" = ? WHERE "product_inventories"."id" = ?[0m  [["stock_quantity", 99], ["updated_at", "2023-10-23 12:38:31.785735"], ["id", 3]]
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:38:in `block in checkout'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:49:in `checkout'
  [1m[36mOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 5], ["status", "pending"], ["created_at", "2023-10-23 12:38:31.802376"], ["updated_at", "2023-10-23 12:38:31.802376"]]
  ↳ app/controllers/api/v1/orders_controller.rb:49:in `checkout'
  [1m[36mOrderItem Create (0.5ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 2], ["product_id", 1], ["quantity", nil], ["created_at", "2023-10-23 12:38:31.812892"], ["updated_at", "2023-10-23 12:38:31.812892"]]
  ↳ app/controllers/api/v1/orders_controller.rb:49:in `checkout'
  [1m[36mOrderItem Create (0.3ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 2], ["product_id", 2], ["quantity", nil], ["created_at", "2023-10-23 12:38:31.817602"], ["updated_at", "2023-10-23 12:38:31.817602"]]
  ↳ app/controllers/api/v1/orders_controller.rb:49:in `checkout'
  [1m[36mOrderItem Create (0.3ms)[0m  [1m[32mINSERT INTO "order_items" ("order_id", "product_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["order_id", 2], ["product_id", 3], ["quantity", nil], ["created_at", "2023-10-23 12:38:31.822342"], ["updated_at", "2023-10-23 12:38:31.822342"]]
  ↳ app/controllers/api/v1/orders_controller.rb:49:in `checkout'
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:49:in `checkout'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:50:in `checkout'
  [1m[36mOrder Update (0.4ms)[0m  [1m[33mUPDATE "orders" SET "status" = ?, "updated_at" = ? WHERE "orders"."id" = ?[0m  [["status", "completed"], ["updated_at", "2023-10-23 12:38:31.838471"], ["id", 2]]
  ↳ app/controllers/api/v1/orders_controller.rb:50:in `checkout'
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/api/v1/orders_controller.rb:50:in `checkout'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
[active_model_serializers] Rendered OrderSerializer with ActiveModelSerializers::Adapter::Attributes (0.43ms)
Completed 200 OK in 110ms (Views: 2.6ms | ActiveRecord: 43.9ms | Allocations: 19076)


Started GET "/api/v1/orders/checkout_history" for ::1 at 2023-10-23 15:38:36 +0300
Processing by Api::V1::OrdersController#checkout_history as */*
  Parameters: {"product_ids"=>[11, 13], "order"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? AND "orders"."status" = ?[0m  [["user_id", 5], ["status", "completed"]]
  ↳ app/controllers/api/v1/orders_controller.rb:64:in `map'
  [1m[36mProduct Sum (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:68:in `block in checkout_history'
  [1m[36mProduct Sum (0.1ms)[0m  [1m[34mSELECT SUM("products"."price") FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 2]]
  ↳ app/controllers/api/v1/orders_controller.rb:68:in `block in checkout_history'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:38:in `current_user'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ? /* loading for inspect */ LIMIT ?[0m  [["order_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/orders_controller.rb:72:in `checkout_history'
No serializer found for resource: {:order=>#<Order id: 1, user_id: 5, status: "completed", created_at: "2023-10-23 12:36:30.220537000 +0000", updated_at: "2023-10-23 12:38:06.501904000 +0000">, :products=>#<ActiveRecord::Associations::CollectionProxy [#<Product id: 11, name: "Synergistic Steel Bag", description: "Beatae illo sed. Ut laudantium molestiae. Vel nequ...", price: 0.39978e3, barcode: "53128157", created_at: "2023-10-23 12:35:27.165013000 +0000", updated_at: "2023-10-23 12:35:27.165013000 +0000">, #<Product id: 13, name: "Durable Rubber Lamp", description: "Corporis et praesentium. Molestias a repudiandae. ...", price: 0.23497e3, barcode: "41654019", created_at: "2023-10-23 12:35:27.274619000 +0000", updated_at: "2023-10-23 12:35:27.274619000 +0000">, #<Product id: 11, name: "Synergistic Steel Bag", description: "Beatae illo sed. Ut laudantium molestiae. Vel nequ...", price: 0.39978e3, barcode: "53128157", created_at: "2023-10-23 12:35:27.165013000 +0000", updated_at: "2023-10-23 12:35:27.165013000 +0000">, #<Product id: 13, name: "Durable Rubber Lamp", description: "Corporis et praesentium. Molestias a repudiandae. ...", price: 0.23497e3, barcode: "41654019", created_at: "2023-10-23 12:35:27.274619000 +0000", updated_at: "2023-10-23 12:35:27.274619000 +0000">]>, :total_price=>0.12695e4}
[active_model_serializers]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/orders_controller.rb:72:in `checkout_history'
[active_model_serializers]   [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "order_items" ON "products"."id" = "order_items"."product_id" WHERE "order_items"."order_id" = ?[0m  [["order_id", 2]]
[active_model_serializers]   ↳ app/controllers/api/v1/orders_controller.rb:72:in `checkout_history'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Array (3.9ms)
Completed 200 OK in 15ms (Views: 7.1ms | ActiveRecord: 0.8ms | Allocations: 8130)


Started GET "/api/v1/products" for ::1 at 2023-10-23 15:42:55 +0300
Processing by Api::V1::ProductsController#index as */*
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 2]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 3]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 4], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 4]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 5], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 5]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 6], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 6]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 7], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 7]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 8], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 8]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 9], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 9]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 10], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 10]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 11], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 11]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 12], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 12]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 13], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 13]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 14], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 14]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 15], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 15]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 16], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 16]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 17], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 17]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 18], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 18]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 19], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 19]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mProductInventory Load (0.1ms)[0m  [1m[34mSELECT "product_inventories".* FROM "product_inventories" WHERE "product_inventories"."product_id" = ? LIMIT ?[0m  [["product_id", 20], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "product_categories" ON "categories"."id" = "product_categories"."category_id" WHERE "product_categories"."product_id" = ?[0m  [["product_id", 20]]
[active_model_serializers]   ↳ app/controllers/api/v1/products_controller.rb:9:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (88.71ms)
Completed 200 OK in 100ms (Views: 95.7ms | ActiveRecord: 4.2ms | Allocations: 60308)


